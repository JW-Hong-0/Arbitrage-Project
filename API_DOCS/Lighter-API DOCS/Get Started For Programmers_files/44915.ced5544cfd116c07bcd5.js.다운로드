!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="85c9a230-2fd9-4f73-9237-77963380bb2a",e._sentryDebugIdIdentifier="sentry-dbid-85c9a230-2fd9-4f73-9237-77963380bb2a")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.557.1"},(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[44915],{23517:(e,t,n)=>{"use strict";n.d(t,{asSchema:()=>Nt,convertBase64ToUint8Array:()=>Pt,convertUint8ArrayToBase64:()=>$t,createIdGenerator:()=>Je,generateId:()=>Be,getRuntimeEnvironmentUserAgent:()=>Fe,parseJsonEventStream:()=>tt,resolve:()=>nt,safeParseJSON:()=>et,safeValidateTypes:()=>Xe,validateTypes:()=>Qe,withUserAgentSuffix:()=>Ue});var r=n(94499);class a extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function s(e){}function i(e){if("function"==typeof e)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=s,onError:n=s,onRetry:r=s,onComment:i}=e;let o,u="",c=!0,l="",d="";function p(e){if(""===e)return l.length>0&&t({id:o,event:d||void 0,data:l.endsWith("\n")?l.slice(0,-1):l}),o=void 0,l="",void(d="");if(e.startsWith(":"))return void(i&&i(e.slice(e.startsWith(": ")?2:1)));const n=e.indexOf(":");if(-1===n)h(e,"",e);else{const t=e.slice(0,n),r=" "===e[n+1]?2:1;h(t,e.slice(n+r),e)}}function h(e,t,s){switch(e){case"event":d=t;break;case"data":l=`${l}${t}\n`;break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?r(parseInt(t,10)):n(new a(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:s}));break;default:n(new a(`Unknown field "${e.length>20?`${e.slice(0,20)}â€¦`:e}"`,{type:"unknown-field",field:e,value:t,line:s}))}}return{feed:function(e){const t=c?e.replace(/^\xEF\xBB\xBF/,""):e,[n,r]=function(e){const t=[];let n="",r=0;for(;r<e.length;){const a=e.indexOf("\r",r),s=e.indexOf("\n",r);let i=-1;if(-1!==a&&-1!==s?i=Math.min(a,s):-1!==a?i=a===e.length-1?-1:a:-1!==s&&(i=s),-1===i){n=e.slice(r);break}{const n=e.slice(r,i);t.push(n),r=i+1,"\r"===e[r-1]&&"\n"===e[r]&&r++}}return[t,n]}(`${u}${t}`);for(const e of n)p(e);u=r,c=!1},reset:function(e={}){u&&e.consume&&p(u),c=!0,o=void 0,l="",d="",u=""}}}class o extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(a){r=i({onEvent:e=>{a.enqueue(e)},onError(t){"terminate"===e?a.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:n})},transform(e){r.feed(e)}})}}var u=n(43861),c=n(19606);class l{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??u.fd,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;const r=e._zod.def,a={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},s=this.seen.get(e);if(s){s.count++;return t.schemaPath.includes(e)&&(s.cycle=t.path),s.schema}const i={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,i);const o=e._zod.toJSONSchema?.();if(o)i.schema=o;else{const n={...t,schemaPath:[...t.schemaPath,e],path:t.path},s=e._zod.parent;if(s)i.ref=s,this.process(s,n),this.seen.get(s).isParent=!0;else{const t=i.schema;switch(r.type){case"string":{const n=t;n.type="string";const{minimum:r,maximum:s,format:o,patterns:u,contentEncoding:c}=e._zod.bag;if("number"==typeof r&&(n.minLength=r),"number"==typeof s&&(n.maxLength=s),o&&(n.format=a[o]??o,""===n.format&&delete n.format),c&&(n.contentEncoding=c),u&&u.size>0){const e=[...u];1===e.length?n.pattern=e[0].source:e.length>1&&(i.schema.allOf=[...e.map((e=>({..."draft-7"===this.target?{type:"string"}:{},pattern:e.source})))])}break}case"number":{const n=t,{minimum:r,maximum:a,format:s,multipleOf:i,exclusiveMaximum:o,exclusiveMinimum:u}=e._zod.bag;"string"==typeof s&&s.includes("int")?n.type="integer":n.type="number","number"==typeof u&&(n.exclusiveMinimum=u),"number"==typeof r&&(n.minimum=r,"number"==typeof u&&(u>=r?delete n.minimum:delete n.exclusiveMinimum)),"number"==typeof o&&(n.exclusiveMaximum=o),"number"==typeof a&&(n.maximum=a,"number"==typeof o&&(o<=a?delete n.maximum:delete n.exclusiveMaximum)),"number"==typeof i&&(n.multipleOf=i);break}case"boolean":t.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":t.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":t.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const a=t,{minimum:s,maximum:i}=e._zod.bag;"number"==typeof s&&(a.minItems=s),"number"==typeof i&&(a.maxItems=i),a.type="array",a.items=this.process(r.element,{...n,path:[...n.path,"items"]});break}case"object":{const e=t;e.type="object",e.properties={};const a=r.shape;for(const t in a)e.properties[t]=this.process(a[t],{...n,path:[...n.path,"properties",t]});const s=new Set(Object.keys(a)),i=new Set([...s].filter((e=>{const t=r.shape[e]._zod;return"input"===this.io?void 0===t.optin:void 0===t.optout})));i.size>0&&(e.required=Array.from(i)),"never"===r.catchall?._zod.def.type?e.additionalProperties=!1:r.catchall?r.catchall&&(e.additionalProperties=this.process(r.catchall,{...n,path:[...n.path,"additionalProperties"]})):"output"===this.io&&(e.additionalProperties=!1);break}case"union":t.anyOf=r.options.map(((e,t)=>this.process(e,{...n,path:[...n.path,"anyOf",t]})));break;case"intersection":{const e=t,a=this.process(r.left,{...n,path:[...n.path,"allOf",0]}),s=this.process(r.right,{...n,path:[...n.path,"allOf",1]}),i=e=>"allOf"in e&&1===Object.keys(e).length,o=[...i(a)?a.allOf:[a],...i(s)?s.allOf:[s]];e.allOf=o;break}case"tuple":{const a=t;a.type="array";const s=r.items.map(((e,t)=>this.process(e,{...n,path:[...n.path,"prefixItems",t]})));if("draft-2020-12"===this.target?a.prefixItems=s:a.items=s,r.rest){const e=this.process(r.rest,{...n,path:[...n.path,"items"]});"draft-2020-12"===this.target?a.items=e:a.additionalItems=e}r.rest&&(a.items=this.process(r.rest,{...n,path:[...n.path,"items"]}));const{minimum:i,maximum:o}=e._zod.bag;"number"==typeof i&&(a.minItems=i),"number"==typeof o&&(a.maxItems=o);break}case"record":{const e=t;e.type="object",e.propertyNames=this.process(r.keyType,{...n,path:[...n.path,"propertyNames"]}),e.additionalProperties=this.process(r.valueType,{...n,path:[...n.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const e=t,n=(0,c.w5)(r.entries);n.every((e=>"number"==typeof e))&&(e.type="number"),n.every((e=>"string"==typeof e))&&(e.type="string"),e.enum=n;break}case"literal":{const e=t,n=[];for(const e of r.values)if(void 0===e){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof e){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");n.push(Number(e))}else n.push(e);if(0===n.length);else if(1===n.length){const t=n[0];e.type=null===t?"null":typeof t,e.const=t}else n.every((e=>"number"==typeof e))&&(e.type="number"),n.every((e=>"string"==typeof e))&&(e.type="string"),n.every((e=>"boolean"==typeof e))&&(e.type="string"),n.every((e=>null===e))&&(e.type="null"),e.enum=n;break}case"file":{const n=t,r={type:"string",format:"binary",contentEncoding:"binary"},{minimum:a,maximum:s,mime:i}=e._zod.bag;void 0!==a&&(r.minLength=a),void 0!==s&&(r.maxLength=s),i?1===i.length?(r.contentMediaType=i[0],Object.assign(n,r)):n.anyOf=i.map((e=>({...r,contentMediaType:e}))):Object.assign(n,r);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const e=this.process(r.innerType,n);t.anyOf=[e,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(r.innerType,n),i.ref=r.innerType;break;case"success":t.type="boolean";break;case"default":this.process(r.innerType,n),i.ref=r.innerType,t.default=JSON.parse(JSON.stringify(r.defaultValue));break;case"prefault":this.process(r.innerType,n),i.ref=r.innerType,"input"===this.io&&(t._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break;case"catch":{let e;this.process(r.innerType,n),i.ref=r.innerType;try{e=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}t.default=e;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const n=t,r=e._zod.pattern;if(!r)throw new Error("Pattern not found in template literal");n.type="string",n.pattern=r.source;break}case"pipe":{const e="input"===this.io?"transform"===r.in._zod.def.type?r.out:r.in:r.out;this.process(e,n),i.ref=e;break}case"readonly":this.process(r.innerType,n),i.ref=r.innerType,t.readOnly=!0;break;case"lazy":{const t=e._zod.innerType;this.process(t,n),i.ref=t;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")}}}const u=this.metadataRegistry.get(e);u&&Object.assign(i.schema,u),"input"===this.io&&d(e)&&(delete i.schema.examples,delete i.schema.default),"input"===this.io&&i.schema._prefault&&((n=i.schema).default??(n.default=i.schema._prefault)),delete i.schema._prefault;return this.seen.get(e).schema}emit(e,t){const n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=e=>{const t="draft-2020-12"===this.target?"$defs":"definitions";if(n.external){const r=n.external.registry.get(e[0])?.id,a=n.external.uri??(e=>e);if(r)return{ref:a(r)};const s=e[1].defId??e[1].schema.id??"schema"+this.counter++;return e[1].defId=s,{defId:s,ref:`${a("__shared")}#/${t}/${s}`}}if(e[1]===r)return{ref:"#"};const a=`#/${t}/`,s=e[1].schema.id??"__schema"+this.counter++;return{defId:s,ref:a+s}},s=e=>{if(e[1].schema.$ref)return;const t=e[1],{ref:n,defId:r}=a(e);t.def={...t.schema},r&&(t.defId=r);const s=t.schema;for(const e in s)delete s[e];s.$ref=n};if("throw"===n.cycles)for(const e of this.seen.entries()){const t=e[1];if(t.cycle)throw new Error(`Cycle detected: #/${t.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const t of this.seen.entries()){const r=t[1];if(e===t[0]){s(t);continue}if(n.external){const r=n.external.registry.get(t[0])?.id;if(e!==t[0]&&r){s(t);continue}}const a=this.metadataRegistry.get(t[0])?.id;a?s(t):(r.cycle||r.count>1&&"ref"===n.reused)&&s(t)}const i=(e,t)=>{const n=this.seen.get(e),r=n.def??n.schema,a={...r};if(null===n.ref)return;const s=n.ref;if(n.ref=null,s){i(s,t);const e=this.seen.get(s).schema;e.$ref&&"draft-7"===t.target?(r.allOf=r.allOf??[],r.allOf.push(e)):(Object.assign(r,e),Object.assign(r,a))}n.isParent||this.override({zodSchema:e,jsonSchema:r,path:n.path??[]})};for(const e of[...this.seen.entries()].reverse())i(e[0],{target:this.target});const o={};if("draft-2020-12"===this.target?o.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?o.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){const t=n.external.registry.get(e)?.id;if(!t)throw new Error("Schema is missing an `id` property");o.$id=n.external.uri(t)}Object.assign(o,r.def);const u=n.external?.defs??{};for(const e of this.seen.entries()){const t=e[1];t.def&&t.defId&&(u[t.defId]=t.def)}n.external||Object.keys(u).length>0&&("draft-2020-12"===this.target?o.$defs=u:o.definitions=u);try{return JSON.parse(JSON.stringify(o))}catch(e){throw new Error("Error converting schema to JSON.")}}}function d(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;switch(r.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return d(r.element,n);case"object":for(const e in r.shape)if(d(r.shape[e],n))return!0;return!1;case"union":for(const e of r.options)if(d(e,n))return!0;return!1;case"intersection":return d(r.left,n)||d(r.right,n);case"tuple":for(const e of r.items)if(d(e,n))return!0;return!(!r.rest||!d(r.rest,n));case"record":case"map":return d(r.keyType,n)||d(r.valueType,n);case"set":return d(r.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return d(r.innerType,n);case"lazy":return d(r.getter(),n);case"transform":return!0;case"pipe":return d(r.in,n)||d(r.out,n)}throw new Error(`Unknown schema type: ${r.type}`)}var p,h,f=n(75330);!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(p||(p={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(h||(h={}));const m=p.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),v=e=>{switch(typeof e){case"undefined":return m.undefined;case"string":return m.string;case"number":return Number.isNaN(e)?m.nan:m.number;case"boolean":return m.boolean;case"function":return m.function;case"bigint":return m.bigint;case"symbol":return m.symbol;case"object":return Array.isArray(e)?m.array:null===e?m.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?m.promise:"undefined"!=typeof Map&&e instanceof Map?m.map:"undefined"!=typeof Set&&e instanceof Set?m.set:"undefined"!=typeof Date&&e instanceof Date?m.date:m.object;default:return m.unknown}},y=p.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class g extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const a of e.issues)if("invalid_union"===a.code)a.unionErrors.map(r);else if("invalid_return_type"===a.code)r(a.returnTypeError);else if("invalid_arguments"===a.code)r(a.argumentsError);else if(0===a.path.length)n._errors.push(t(a));else{let e=n,r=0;for(;r<a.path.length;){const n=a.path[r];r===a.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(a))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof g))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,p.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},n=[];for(const r of this.issues)if(r.path.length>0){const n=r.path[0];t[n]=t[n]||[],t[n].push(e(r))}else n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}g.create=e=>new g(e);const _=(e,t)=>{let n;switch(e.code){case y.invalid_type:n=e.received===m.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,p.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:n=`Unrecognized key(s) in object: ${p.joinValues(e.keys,", ")}`;break;case y.invalid_union:n="Invalid input";break;case y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${p.joinValues(e.options)}`;break;case y.invalid_enum_value:n=`Invalid enum value. Expected ${p.joinValues(e.options)}, received '${e.received}'`;break;case y.invalid_arguments:n="Invalid function arguments";break;case y.invalid_return_type:n="Invalid function return type";break;case y.invalid_date:n="Invalid date";break;case y.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:p.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case y.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case y.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case y.custom:n="Invalid input";break;case y.invalid_intersection_types:n="Intersection results could not be merged";break;case y.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case y.not_finite:n="Number must be finite";break;default:n=t.defaultError,p.assertNever(e)}return{message:n}};let b=_;function k(){return b}var x;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(x||(x={}));const I=e=>{const{data:t,path:n,errorMaps:r,issueData:a}=e,s=[...n,...a.path||[]],i={...a,path:s};if(void 0!==a.message)return{...a,path:s,message:a.message};let o="";const u=r.filter((e=>!!e)).slice().reverse();for(const e of u)o=e(i,{data:t,defaultError:o}).message;return{...a,path:s,message:o}};function w(e,t){const n=k(),r=I({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===_?void 0:_].filter((e=>!!e))});e.common.issues.push(r)}class E{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return S;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return E.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:a}=r;if("aborted"===t.status)return S;if("aborted"===a.status)return S;"dirty"===t.status&&e.dirty(),"dirty"===a.status&&e.dirty(),"__proto__"===t.value||void 0===a.value&&!r.alwaysSet||(n[t.value]=a.value)}return{status:e.value,value:n}}}const S=Object.freeze({status:"aborted"}),T=e=>({status:"dirty",value:e}),C=e=>({status:"valid",value:e}),A=e=>"aborted"===e.status,j=e=>"dirty"===e.status,O=e=>"valid"===e.status,N=e=>"undefined"!=typeof Promise&&e instanceof Promise;class z{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const R=(e,t)=>{if(O(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new g(e.common.issues);return this._error=t,this._error}}};function P(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:a}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:a};return{errorMap:(t,a)=>{const{message:s}=e;return"invalid_enum_value"===t.code?{message:s??a.defaultError}:void 0===a.data?{message:s??r??a.defaultError}:"invalid_type"!==t.code?{message:a.defaultError}:{message:s??n??a.defaultError}},description:a}}class ${get description(){return this._def.description}_getType(e){return v(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:v(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new E,ctx:{common:e.parent.common,data:e.data,parsedType:v(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(N(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:v(e)},r=this._parseSync({data:e,path:n.path,parent:n});return R(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:v(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return O(n)?{value:n.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>O(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:v(e)},r=this._parse({data:e,path:n.path,parent:n}),a=await(N(r)?r:Promise.resolve(r));return R(n,a)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const a=e(t),s=()=>r.addIssue({code:y.custom,...n(t)});return"undefined"!=typeof Promise&&a instanceof Promise?a.then((e=>!!e||(s(),!1))):!!a||(s(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)))}_refinement(e){return new Ne({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ze.create(this,this._def)}nullable(){return Re.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ye.create(this)}promise(){return Oe.create(this,this._def)}or(e){return be.create([this,e],this._def)}and(e){return xe.create(this,e,this._def)}transform(e){return new Ne({...P(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Pe({...P(this._def),innerType:this,defaultValue:t,typeName:Le.ZodDefault})}brand(){return new Ze({typeName:Le.ZodBranded,type:this,...P(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new $e({...P(this._def),innerType:this,catchValue:t,typeName:Le.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Ye.create(this,e)}readonly(){return De.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const M=/^c[^\s-]{8,}$/i,Z=/^[0-9a-z]+$/,Y=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,L=/^[a-z0-9_-]{21}$/i,F=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,U=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,J=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let B;const V=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,W=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,K=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,G=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Q="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",X=new RegExp(`^${Q}$`);function ee(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function te(e){let t=`${Q}T${ee(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function ne(e,t){if(!F.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),a=JSON.parse(atob(r));return"object"==typeof a&&null!==a&&((!("typ"in a)||"JWT"===a?.typ)&&(!!a.alg&&(!t||a.alg===t)))}catch{return!1}}function re(e,t){return!("v4"!==t&&t||!W.test(e))||!("v6"!==t&&t||!K.test(e))}class ae extends ${_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==m.string){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.string,received:t.parsedType}),S}const t=new E;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,a=e.data.length<s.value;(r||a)&&(n=this._getOrReturnCtx(e,n),r?w(n,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&w(n,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)J.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"email",code:y.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)B||(B=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),B.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"emoji",code:y.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)D.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"uuid",code:y.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"nanoid",code:y.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)M.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cuid",code:y.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Z.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cuid2",code:y.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Y.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"ulid",code:y.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),w(n,{validation:"url",code:y.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"regex",code:y.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){te(s).test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){X.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){new RegExp(`^${ee(s)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{code:y.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?U.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"duration",code:y.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?(r=e.data,("v4"!==(a=s.version)&&a||!V.test(r))&&("v6"!==a&&a||!q.test(r))&&(n=this._getOrReturnCtx(e,n),w(n,{validation:"ip",code:y.invalid_string,message:s.message}),t.dirty())):"jwt"===s.kind?ne(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"jwt",code:y.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?re(e.data,s.version)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"cidr",code:y.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?G.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"base64",code:y.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?H.test(e.data)||(n=this._getOrReturnCtx(e,n),w(n,{validation:"base64url",code:y.invalid_string,message:s.message}),t.dirty()):p.assertNever(s);var r,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:y.invalid_string,...x.errToObj(n)})}_addCheck(e){return new ae({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...x.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...x.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...x.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...x.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...x.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...x.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...x.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...x.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...x.errToObj(t)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new ae({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ae({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function se(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}ae.create=e=>new ae({checks:[],typeName:Le.ZodString,coerce:e?.coerce??!1,...P(e)});class ie extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==m.number){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.number,received:t.parsedType}),S}let t;const n=new E;for(const r of this._def.checks)if("int"===r.kind)p.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),w(t,{code:y.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==se(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),w(t,{code:y.not_finite,message:r.message}),n.dirty()):p.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,r){return new ie({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(r)}]})}_addCheck(e){return new ie({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&p.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ie.create=e=>new ie({checks:[],typeName:Le.ZodNumber,coerce:e?.coerce||!1,...P(e)});class oe extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==m.bigint)return this._getInvalidInput(e);let t;const n=new E;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),w(t,{code:y.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):p.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.bigint,received:t.parsedType}),S}gte(e,t){return this.setLimit("min",e,!0,x.toString(t))}gt(e,t){return this.setLimit("min",e,!1,x.toString(t))}lte(e,t){return this.setLimit("max",e,!0,x.toString(t))}lt(e,t){return this.setLimit("max",e,!1,x.toString(t))}setLimit(e,t,n,r){return new oe({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:x.toString(r)}]})}_addCheck(e){return new oe({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}oe.create=e=>new oe({checks:[],typeName:Le.ZodBigInt,coerce:e?.coerce??!1,...P(e)});class ue extends ${_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==m.boolean){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.boolean,received:t.parsedType}),S}return C(e.data)}}ue.create=e=>new ue({typeName:Le.ZodBoolean,coerce:e?.coerce||!1,...P(e)});class ce extends ${_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==m.date){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.date,received:t.parsedType}),S}if(Number.isNaN(e.data.getTime())){return w(this._getOrReturnCtx(e),{code:y.invalid_date}),S}const t=new E;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:y.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),w(n,{code:y.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):p.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ce({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ce.create=e=>new ce({checks:[],coerce:e?.coerce||!1,typeName:Le.ZodDate,...P(e)});class le extends ${_parse(e){if(this._getType(e)!==m.symbol){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.symbol,received:t.parsedType}),S}return C(e.data)}}le.create=e=>new le({typeName:Le.ZodSymbol,...P(e)});class de extends ${_parse(e){if(this._getType(e)!==m.undefined){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.undefined,received:t.parsedType}),S}return C(e.data)}}de.create=e=>new de({typeName:Le.ZodUndefined,...P(e)});class pe extends ${_parse(e){if(this._getType(e)!==m.null){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.null,received:t.parsedType}),S}return C(e.data)}}pe.create=e=>new pe({typeName:Le.ZodNull,...P(e)});class he extends ${constructor(){super(...arguments),this._any=!0}_parse(e){return C(e.data)}}he.create=e=>new he({typeName:Le.ZodAny,...P(e)});class fe extends ${constructor(){super(...arguments),this._unknown=!0}_parse(e){return C(e.data)}}fe.create=e=>new fe({typeName:Le.ZodUnknown,...P(e)});class me extends ${_parse(e){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.never,received:t.parsedType}),S}}me.create=e=>new me({typeName:Le.ZodNever,...P(e)});class ve extends ${_parse(e){if(this._getType(e)!==m.undefined){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.void,received:t.parsedType}),S}return C(e.data)}}ve.create=e=>new ve({typeName:Le.ZodVoid,...P(e)});class ye extends ${_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==m.array)return w(t,{code:y.invalid_type,expected:m.array,received:t.parsedType}),S;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,a=t.data.length<r.exactLength.value;(e||a)&&(w(t,{code:e?y.too_big:y.too_small,minimum:a?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(w(t,{code:y.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(w(t,{code:y.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new z(t,e,t.path,n))))).then((e=>E.mergeArray(n,e)));const a=[...t.data].map(((e,n)=>r.type._parseSync(new z(t,e,t.path,n))));return E.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new ye({...this._def,minLength:{value:e,message:x.toString(t)}})}max(e,t){return new ye({...this._def,maxLength:{value:e,message:x.toString(t)}})}length(e,t){return new ye({...this._def,exactLength:{value:e,message:x.toString(t)}})}nonempty(e){return this.min(1,e)}}function ge(e){if(e instanceof _e){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=ze.create(ge(r))}return new _e({...e._def,shape:()=>t})}return e instanceof ye?new ye({...e._def,type:ge(e.element)}):e instanceof ze?ze.create(ge(e.unwrap())):e instanceof Re?Re.create(ge(e.unwrap())):e instanceof Ie?Ie.create(e.items.map((e=>ge(e)))):e}ye.create=(e,t)=>new ye({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...P(t)});class _e extends ${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=p.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==m.object){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.object,received:t.parsedType}),S}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),s=[];if(!(this._def.catchall instanceof me&&"strip"===this._def.unknownKeys))for(const e in n.data)a.includes(e)||s.push(e);const i=[];for(const e of a){const t=r[e],a=n.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new z(n,a,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof me){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)i.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)s.length>0&&(w(n,{code:y.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const r=n.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new z(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of i){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>E.mergeObjectSync(t,e))):E.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new _e({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:x.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new _e({...this._def,unknownKeys:"strip"})}passthrough(){return new _e({...this._def,unknownKeys:"passthrough"})}extend(e){return new _e({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new _e({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new _e({...this._def,catchall:e})}pick(e){const t={};for(const n of p.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new _e({...this._def,shape:()=>t})}omit(e){const t={};for(const n of p.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new _e({...this._def,shape:()=>t})}deepPartial(){return ge(this)}partial(e){const t={};for(const n of p.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new _e({...this._def,shape:()=>t})}required(e){const t={};for(const n of p.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof ze;)e=e._def.innerType;t[n]=e}return new _e({...this._def,shape:()=>t})}keyof(){return Ce(p.objectKeys(this.shape))}}_e.create=(e,t)=>new _e({shape:()=>e,unknownKeys:"strip",catchall:me.create(),typeName:Le.ZodObject,...P(t)}),_e.strictCreate=(e,t)=>new _e({shape:()=>e,unknownKeys:"strict",catchall:me.create(),typeName:Le.ZodObject,...P(t)}),_e.lazycreate=(e,t)=>new _e({shape:e,unknownKeys:"strip",catchall:me.create(),typeName:Le.ZodObject,...P(t)});class be extends ${_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map((e=>new g(e.ctx.common.issues)));return w(t,{code:y.invalid_union,unionErrors:n}),S}));{let e;const r=[];for(const a of n){const n={...t,common:{...t.common,issues:[]},parent:null},s=a._parseSync({data:t.data,path:t.path,parent:n});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const a=r.map((e=>new g(e)));return w(t,{code:y.invalid_union,unionErrors:a}),S}}get options(){return this._def.options}}be.create=(e,t)=>new be({options:e,typeName:Le.ZodUnion,...P(t)});function ke(e,t){const n=v(e),r=v(t);if(e===t)return{valid:!0,data:e};if(n===m.object&&r===m.object){const n=p.objectKeys(t),r=p.objectKeys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=ke(e[n],t[n]);if(!r.valid)return{valid:!1};a[n]=r.data}return{valid:!0,data:a}}if(n===m.array&&r===m.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const a=ke(e[r],t[r]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}return n===m.date&&r===m.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class xe extends ${_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(A(e)||A(r))return S;const a=ke(e.value,r.value);return a.valid?((j(e)||j(r))&&t.dirty(),{status:t.value,value:a.data}):(w(n,{code:y.invalid_intersection_types}),S)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xe.create=(e,t,n)=>new xe({left:e,right:t,typeName:Le.ZodIntersection,...P(n)});class Ie extends ${_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.array)return w(n,{code:y.invalid_type,expected:m.array,received:n.parsedType}),S;if(n.data.length<this._def.items.length)return w(n,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),S;!this._def.rest&&n.data.length>this._def.items.length&&(w(n,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new z(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>E.mergeArray(t,e))):E.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ie({...this._def,rest:e})}}Ie.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ie({items:e,typeName:Le.ZodTuple,rest:null,...P(t)})};class we extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.map)return w(n,{code:y.invalid_type,expected:m.map,received:n.parsedType}),S;const r=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map((([e,t],s)=>({key:r._parse(new z(n,e,n.path,[s,"key"])),value:a._parse(new z(n,t,n.path,[s,"value"]))})));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of s){const r=await n.key,a=await n.value;if("aborted"===r.status||"aborted"===a.status)return S;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of s){const r=n.key,a=n.value;if("aborted"===r.status||"aborted"===a.status)return S;"dirty"!==r.status&&"dirty"!==a.status||t.dirty(),e.set(r.value,a.value)}return{status:t.value,value:e}}}}we.create=(e,t,n)=>new we({valueType:t,keyType:e,typeName:Le.ZodMap,...P(n)});class Ee extends ${_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==m.set)return w(n,{code:y.invalid_type,expected:m.set,received:n.parsedType}),S;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(w(n,{code:y.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(w(n,{code:y.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const a=this._def.valueType;function s(e){const n=new Set;for(const r of e){if("aborted"===r.status)return S;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const i=[...n.data.values()].map(((e,t)=>a._parse(new z(n,e,n.path,t))));return n.common.async?Promise.all(i).then((e=>s(e))):s(i)}min(e,t){return new Ee({...this._def,minSize:{value:e,message:x.toString(t)}})}max(e,t){return new Ee({...this._def,maxSize:{value:e,message:x.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Ee.create=(e,t)=>new Ee({valueType:e,minSize:null,maxSize:null,typeName:Le.ZodSet,...P(t)});class Se extends ${get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Se.create=(e,t)=>new Se({getter:e,typeName:Le.ZodLazy,...P(t)});class Te extends ${_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return w(t,{received:t.data,code:y.invalid_literal,expected:this._def.value}),S}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Ce(e,t){return new Ae({values:e,typeName:Le.ZodEnum,...P(t)})}Te.create=(e,t)=>new Te({value:e,typeName:Le.ZodLiteral,...P(t)});class Ae extends ${_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return w(t,{expected:p.joinValues(n),received:t.parsedType,code:y.invalid_type}),S}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return w(t,{received:t.data,code:y.invalid_enum_value,options:n}),S}return C(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Ae.create(e,{...this._def,...t})}exclude(e,t=this._def){return Ae.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Ae.create=Ce;class je extends ${_parse(e){const t=p.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==m.string&&n.parsedType!==m.number){const e=p.objectValues(t);return w(n,{expected:p.joinValues(e),received:n.parsedType,code:y.invalid_type}),S}if(this._cache||(this._cache=new Set(p.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=p.objectValues(t);return w(n,{received:n.data,code:y.invalid_enum_value,options:e}),S}return C(e.data)}get enum(){return this._def.values}}je.create=(e,t)=>new je({values:e,typeName:Le.ZodNativeEnum,...P(t)});class Oe extends ${unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==m.promise&&!1===t.common.async)return w(t,{code:y.invalid_type,expected:m.promise,received:t.parsedType}),S;const n=t.parsedType===m.promise?t.data:Promise.resolve(t.data);return C(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Oe.create=(e,t)=>new Oe({type:e,typeName:Le.ZodPromise,...P(t)});class Ne extends ${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,a={addIssue:e=>{w(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===r.type){const e=r.transform(n.data,a);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return S;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?S:"dirty"===r.status||"dirty"===t.value?T(r.value):r}));{if("aborted"===t.value)return S;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?S:"dirty"===r.status||"dirty"===t.value?T(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,a);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?S:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?S:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!O(e))return S;const s=r.transform(e.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>O(e)?Promise.resolve(r.transform(e.value,a)).then((e=>({status:t.value,value:e}))):S))}p.assertNever(r)}}Ne.create=(e,t,n)=>new Ne({schema:e,typeName:Le.ZodEffects,effect:t,...P(n)}),Ne.createWithPreprocess=(e,t,n)=>new Ne({schema:t,effect:{type:"preprocess",transform:e},typeName:Le.ZodEffects,...P(n)});class ze extends ${_parse(e){return this._getType(e)===m.undefined?C(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ze.create=(e,t)=>new ze({innerType:e,typeName:Le.ZodOptional,...P(t)});class Re extends ${_parse(e){return this._getType(e)===m.null?C(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Re.create=(e,t)=>new Re({innerType:e,typeName:Le.ZodNullable,...P(t)});class Pe extends ${_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===m.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Pe.create=(e,t)=>new Pe({innerType:e,typeName:Le.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...P(t)});class $e extends ${_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return N(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new g(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new g(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}$e.create=(e,t)=>new $e({innerType:e,typeName:Le.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...P(t)});class Me extends ${_parse(e){if(this._getType(e)!==m.nan){const t=this._getOrReturnCtx(e);return w(t,{code:y.invalid_type,expected:m.nan,received:t.parsedType}),S}return{status:"valid",value:e.data}}}Me.create=e=>new Me({typeName:Le.ZodNaN,...P(e)});Symbol("zod_brand");class Ze extends ${_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ye extends ${_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?S:"dirty"===e.status?(t.dirty(),T(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?S:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Ye({in:e,out:t,typeName:Le.ZodPipeline})}}class De extends ${_parse(e){const t=this._def.innerType._parse(e),n=e=>(O(e)&&(e.value=Object.freeze(e.value)),e);return N(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}De.create=(e,t)=>new De({innerType:e,typeName:Le.ZodReadonly,...P(t)});_e.lazycreate;var Le;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Le||(Le={}));ae.create,ie.create,Me.create,oe.create,ue.create,ce.create,le.create,de.create,pe.create,he.create,fe.create,me.create,ve.create,ye.create,_e.create,_e.strictCreate,be.create,xe.create,Ie.create,we.create,Ee.create,Se.create,Te.create,Ae.create,je.create,Oe.create,Ne.create,ze.create,Re.create,Ne.createWithPreprocess,Ye.create;n(39907);function Fe(e=globalThis){var t,n,r;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(r=null==(n=e.process)?void 0:n.versions)?void 0:r.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function Ue(e,...t){const n=(r=null!=e?e:{},Object.fromEntries(Object.entries(r).filter((([e,t])=>null!=t))));var r;const a=new Headers(n),s=a.get("user-agent")||"";return a.set("user-agent",[s,...t].filter(Boolean).join(" ")),Object.fromEntries(a)}var Je=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}={})=>{const s=()=>{const e=n.length,r=new Array(t);for(let a=0;a<t;a++)r[a]=n[Math.random()*e|0];return r.join("")};if(null==e)return s;if(n.includes(a))throw new r.Di({argument:"separator",message:`The separator "${a}" must not be part of the alphabet "${n}".`});return()=>`${e}${a}${s()}`},Be=Je();var Ve=/"__proto__"\s*:/,We=/"constructor"\s*:/;function qe(e){const t=JSON.parse(e);return null===t||"object"!=typeof t||!1===Ve.test(e)&&!1===We.test(e)?t:function(e){let t=[e];for(;t.length;){const e=t;t=[];for(const n of e){if(Object.prototype.hasOwnProperty.call(n,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(n,"constructor")&&Object.prototype.hasOwnProperty.call(n.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const e in n){const r=n[e];r&&"object"==typeof r&&t.push(r)}}}return e}(t)}function Ke(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return qe(e)}finally{Error.stackTraceLimit=t}}var Ge=Symbol.for("vercel.ai.validator");function He(e){return function(e){return"object"==typeof e&&null!==e&&Ge in e&&!0===e[Ge]&&"validate"in e}(e)?e:(t=e,n=async e=>{const n=await t["~standard"].validate(e);return null==n.issues?{success:!0,value:n.value}:{success:!1,error:new r.iM({value:e,cause:n.issues})}},{[Ge]:!0,validate:n});var t,n}async function Qe({value:e,schema:t}){const n=await Xe({value:e,schema:t});if(!n.success)throw r.iM.wrap({value:e,cause:n.error});return n.value}async function Xe({value:e,schema:t}){const n=He(t);try{if(null==n.validate)return{success:!0,value:e,rawValue:e};const t=await n.validate(e);return t.success?{success:!0,value:t.value,rawValue:e}:{success:!1,error:r.iM.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:r.iM.wrap({value:e,cause:t}),rawValue:e}}}async function et({text:e,schema:t}){try{const n=Ke(e);return null==t?{success:!0,value:n,rawValue:n}:await Xe({value:n,schema:t})}catch(t){return{success:!1,error:r.u6.isInstance(t)?t:new r.u6({text:e,cause:t}),rawValue:void 0}}}function tt({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new o).pipeThrough(new TransformStream({async transform({data:e},n){"[DONE]"!==e&&n.enqueue(await et({text:e,schema:t}))}}))}async function nt(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var rt=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},at=Symbol("Let zodToJsonSchema decide on which parser to use"),st={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function it(e,t){return It(e.type._def,t)}function ot(e,t,n){const r=null!=n?n:t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map(((n,r)=>ot(e,t,n)))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ut(e)}}var ut=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value}return t};var ct=void 0,lt={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(void 0===ct&&(ct=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ct),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function dt(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":ft(n,"email",r.message,t);break;case"format:idn-email":ft(n,"idn-email",r.message,t);break;case"pattern:zod":mt(n,lt.email,r.message,t)}break;case"url":ft(n,"uri",r.message,t);break;case"uuid":ft(n,"uuid",r.message,t);break;case"regex":mt(n,r.regex,r.message,t);break;case"cuid":mt(n,lt.cuid,r.message,t);break;case"cuid2":mt(n,lt.cuid2,r.message,t);break;case"startsWith":mt(n,RegExp(`^${pt(r.value,t)}`),r.message,t);break;case"endsWith":mt(n,RegExp(`${pt(r.value,t)}$`),r.message,t);break;case"datetime":ft(n,"date-time",r.message,t);break;case"date":ft(n,"date",r.message,t);break;case"time":ft(n,"time",r.message,t);break;case"duration":ft(n,"duration",r.message,t);break;case"length":n.minLength="number"==typeof n.minLength?Math.max(n.minLength,r.value):r.value,n.maxLength="number"==typeof n.maxLength?Math.min(n.maxLength,r.value):r.value;break;case"includes":mt(n,RegExp(pt(r.value,t)),r.message,t);break;case"ip":"v6"!==r.version&&ft(n,"ipv4",r.message,t),"v4"!==r.version&&ft(n,"ipv6",r.message,t);break;case"base64url":mt(n,lt.base64url,r.message,t);break;case"jwt":mt(n,lt.jwt,r.message,t);break;case"cidr":"v6"!==r.version&&mt(n,lt.ipv4Cidr,r.message,t),"v4"!==r.version&&mt(n,lt.ipv6Cidr,r.message,t);break;case"emoji":mt(n,lt.emoji(),r.message,t);break;case"ulid":mt(n,lt.ulid,r.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":ft(n,"binary",r.message,t);break;case"contentEncoding:base64":n.contentEncoding="base64";break;case"pattern:zod":mt(n,lt.base64,r.message,t)}break;case"nanoid":mt(n,lt.nanoid,r.message,t)}return n}function pt(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let n=0;n<e.length;n++)ht.has(e[n])||(t+="\\"),t+=e[n];return t}(e):e}var ht=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function ft(e,t,n,r){var a;e.format||(null==(a=e.anyOf)?void 0:a.some((e=>e.format)))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function mt(e,t,n,r){var a;e.pattern||(null==(a=e.allOf)?void 0:a.some((e=>e.pattern)))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:vt(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=vt(t,r)}function vt(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r=e.flags.includes("i"),a=e.flags.includes("m"),s=e.flags.includes("s"),i=r?e.source.toLowerCase():e.source;let o="",u=!1,c=!1,l=!1;for(let e=0;e<i.length;e++)if(u)o+=i[e],u=!1;else{if(r)if(c){if(i[e].match(/[a-z]/)){l?(o+=i[e],o+=`${i[e-2]}-${i[e]}`.toUpperCase(),l=!1):"-"===i[e+1]&&(null==(n=i[e+2])?void 0:n.match(/[a-z]/))?(o+=i[e],l=!0):o+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){o+=`[${i[e]}${i[e].toUpperCase()}]`;continue}if(a){if("^"===i[e]){o+="(^|(?<=[\r\n]))";continue}if("$"===i[e]){o+="($|(?=[\r\n]))";continue}}s&&"."===i[e]?o+=c?`${i[e]}\r\n`:`[${i[e]}\r\n]`:(o+=i[e],"\\"===i[e]?u=!0:c&&"]"===i[e]?c=!1:c||"["!==i[e]||(c=!0))}try{new RegExp(o)}catch(n){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function yt(e,t){var n,r,a,s,i,o;const u={type:"object",additionalProperties:null!=(n=It(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?n:t.allowedAdditionalProperties};if((null==(r=e.keyType)?void 0:r._def.typeName)===Le.ZodString&&(null==(a=e.keyType._def.checks)?void 0:a.length)){const{type:n,...r}=dt(e.keyType._def,t);return{...u,propertyNames:r}}if((null==(s=e.keyType)?void 0:s._def.typeName)===Le.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if((null==(i=e.keyType)?void 0:i._def.typeName)===Le.ZodBranded&&e.keyType._def.type._def.typeName===Le.ZodString&&(null==(o=e.keyType._def.type._def.checks)?void 0:o.length)){const{type:n,...r}=it(e.keyType._def,t);return{...u,propertyNames:r}}return u}var gt={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var _t=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,n)=>It(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${n}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0)));return n.length?{anyOf:n}:void 0};function bt(e,t){const n={type:"object",properties:{}},r=[],a=e.shape();for(const e in a){let s=a[e];if(void 0===s||void 0===s._def)continue;const i=kt(s),o=It(s._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==o&&(n.properties[e]=o,i||r.push(e))}r.length&&(n.required=r);const s=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return It(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==s&&(n.additionalProperties=s),n}function kt(e){try{return e.isOptional()}catch(e){return!0}}var xt=(e,t,n)=>{switch(t){case Le.ZodString:return dt(e,n);case Le.ZodNumber:return function(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case Le.ZodObject:return bt(e,n);case Le.ZodBigInt:return function(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value}return t}(e);case Le.ZodBoolean:return{type:"boolean"};case Le.ZodDate:return ot(e,n);case Le.ZodUndefined:return{not:{}};case Le.ZodNull:return{type:"null"};case Le.ZodArray:return function(e,t){var n,r,a;const s={type:"array"};return(null==(n=e.type)?void 0:n._def)&&(null==(a=null==(r=e.type)?void 0:r._def)?void 0:a.typeName)!==Le.ZodAny&&(s.items=It(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(s.minItems=e.minLength.value),e.maxLength&&(s.maxItems=e.maxLength.value),e.exactLength&&(s.minItems=e.exactLength.value,s.maxItems=e.exactLength.value),s}(e,n);case Le.ZodUnion:case Le.ZodDiscriminatedUnion:return function(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every((e=>e._def.typeName in gt&&(!e._def.checks||!e._def.checks.length)))){const e=n.reduce(((e,t)=>{const n=gt[t._def.typeName];return n&&!e.includes(n)?[...e,n]:e}),[]);return{type:e.length>1?e:e[0]}}if(n.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=n.reduce(((e,t)=>{const n=typeof t._def.value;switch(n){case"string":case"number":case"boolean":return[...e,n];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===n.length){const t=e.filter(((e,t,n)=>n.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:n.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(n.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:n.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return _t(e,t)}(e,n);case Le.ZodIntersection:return function(e,t){const n=[It(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),It(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e)),r=[];return n.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:n,...r}=e;t=r}r.push(t)}else r.push(...e.allOf);var t})),r.length?{allOf:r}:void 0}(e,n);case Le.ZodTuple:return function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,n)=>It(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:It(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,n)=>It(e._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}(e,n);case Le.ZodRecord:return yt(e,n);case Le.ZodLiteral:return function(e){const t=typeof e.value;return"bigint"!==t&&"number"!==t&&"boolean"!==t&&"string"!==t?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===t?"integer":t,const:e.value}}(e);case Le.ZodEnum:return function(e){return{type:"string",enum:Array.from(e.values)}}(e);case Le.ZodNativeEnum:return function(e){const t=e.values,n=Object.keys(e.values).filter((e=>"number"!=typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(n.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:n}}(e);case Le.ZodNullable:return function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[gt[e.innerType._def.typeName],"null"]};const n=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}(e,n);case Le.ZodOptional:return((e,t)=>{var n;if(t.currentPath.toString()===(null==(n=t.propertyPath)?void 0:n.toString()))return It(e.innerType._def,t);const r=It(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}})(e,n);case Le.ZodMap:return function(e,t){return"record"===t.mapStrategy?yt(e,t):{type:"array",maxItems:125,items:{type:"array",items:[It(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(e,n);case Le.ZodSet:return function(e,t){const n={type:"array",uniqueItems:!0,items:It(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(n.minItems=e.minSize.value),e.maxSize&&(n.maxItems=e.maxSize.value),n}(e,n);case Le.ZodLazy:return()=>e.getter()._def;case Le.ZodPromise:return function(e,t){return It(e.type._def,t)}(e,n);case Le.ZodNaN:case Le.ZodNever:return{not:{}};case Le.ZodEffects:return function(e,t){return"input"===t.effectStrategy?It(e.schema._def,t):{}}(e,n);case Le.ZodAny:case Le.ZodUnknown:return{};case Le.ZodDefault:return function(e,t){return{...It(e.innerType._def,t),default:e.defaultValue()}}(e,n);case Le.ZodBranded:return it(e,n);case Le.ZodReadonly:case Le.ZodCatch:return((e,t)=>It(e.innerType._def,t))(e,n);case Le.ZodPipeline:return((e,t)=>{if("input"===t.pipeStrategy)return It(e.in._def,t);if("output"===t.pipeStrategy)return It(e.out._def,t);const n=It(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[n,It(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]})].filter((e=>void 0!==e))}})(e,n);case Le.ZodFunction:case Le.ZodVoid:case Le.ZodSymbol:default:return}};function It(e,t,n=!1){var r;const a=t.seen.get(e);if(t.override){const s=null==(r=t.override)?void 0:r.call(t,e,t,a,n);if(s!==at)return s}if(a&&!n){const e=wt(a,t);if(void 0!==e)return e}const s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);const i=xt(e,e.typeName,t),o="function"==typeof i?It(i(),t):i;if(o&&Et(e,t,o),t.postProcess){const n=t.postProcess(o,e,t);return s.jsonSchema=o,n}return s.jsonSchema=o,o}var wt=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:rt(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,n)=>t.currentPath[n]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},Et=(e,t,n)=>(e.description&&(n.description=e.description),n),St=e=>{const t=(e=>"string"==typeof e?{...st,name:e}:{...st,...e})(e),n=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((([e,n])=>[n._def,{def:n._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}])))}},Tt=(e,t)=>{var n;const r=St(t);let a="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,[t,n])=>{var a;return{...e,[t]:null!=(a=It(n._def,{...r,currentPath:[...r.basePath,r.definitionPath,t]},!0))?a:{}}}),{}):void 0;const s="string"==typeof t?t:"title"===(null==t?void 0:t.nameStrategy)||null==t?void 0:t.name,i=null!=(n=It(e._def,void 0===s?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1))?n:{},o="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==o&&(i.title=o);const u=void 0===s?a?{...i,[r.definitionPath]:a}:i:{$ref:[..."relative"===r.$refStrategy?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:i}};return u.$schema="http://json-schema.org/draft-07/schema#",u};function Ct(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Ot(function(e,t){if(e instanceof u.rs){const n=new l(t),r={};for(const t of e._idmap.entries()){const[e,r]=t;n.process(r)}const a={},s={registry:e,uri:t?.uri,defs:r};for(const r of e._idmap.entries()){const[e,i]=r;a[e]=n.emit(i,{...t,external:s})}if(Object.keys(r).length>0){const e="draft-2020-12"===n.target?"$defs":"definitions";a.__shared={[e]:r}}return{schemas:a}}const n=new l(t);return n.process(e),n.emit(e,t)}(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"}),{validate:async t=>{const n=await f.bp(e,t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}function At(e,t){return function(e){return"_zod"in e}(e)?Ct(e,t):function(e,t){var n;const r=null!=(n=null==t?void 0:t.useReferences)&&n;return Ot(Tt(e,{$refStrategy:r?"root":"none"}),{validate:async t=>{const n=await e.safeParseAsync(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}}})}(e,t)}var jt=Symbol.for("vercel.ai.schema");function Ot(e,{validate:t}={}){return{[jt]:!0,_type:void 0,[Ge]:!0,jsonSchema:e,validate:t}}function Nt(e){return null==e?Ot({properties:{},additionalProperties:!1}):"object"==typeof(t=e)&&null!==t&&jt in t&&!0===t[jt]&&"jsonSchema"in t&&"validate"in t?e:At(e);var t}var{btoa:zt,atob:Rt}=globalThis;function Pt(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=Rt(t);return Uint8Array.from(n,(e=>e.codePointAt(0)))}function $t(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return zt(t)}},94499:(e,t,n)=>{"use strict";n.d(t,{Di:()=>_,b8:()=>re,bD:()=>o,eM:()=>J,iM:()=>X,u1:()=>f,u6:()=>j});var r,a="vercel.ai.error",s=Symbol.for(a),i=class e extends Error{constructor({name:e,message:t,cause:n}){super(t),this[r]=!0,this.name=e,this.cause=n}static isInstance(t){return e.hasMarker(t,a)}static hasMarker(e,t){const n=Symbol.for(t);return null!=e&&"object"==typeof e&&n in e&&"boolean"==typeof e[n]&&!0===e[n]}};r=s;var o=i,u="AI_APICallError",c=`vercel.ai.error.${u}`,l=Symbol.for(c);var d="AI_EmptyResponseBodyError",p=`vercel.ai.error.${d}`,h=Symbol.for(p);function f(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}var m,v="AI_InvalidArgumentError",y=`vercel.ai.error.${v}`,g=Symbol.for(y),_=class extends o{constructor({message:e,cause:t,argument:n}){super({name:v,message:e,cause:t}),this[m]=!0,this.argument=n}static isInstance(e){return o.hasMarker(e,y)}};m=g;var b="AI_InvalidPromptError",k=`vercel.ai.error.${b}`,x=Symbol.for(k);var I="AI_InvalidResponseDataError",w=`vercel.ai.error.${I}`,E=Symbol.for(w);var S,T="AI_JSONParseError",C=`vercel.ai.error.${T}`,A=Symbol.for(C),j=class extends o{constructor({text:e,cause:t}){super({name:T,message:`JSON parsing failed: Text: ${e}.\nError message: ${f(t)}`,cause:t}),this[S]=!0,this.text=e}static isInstance(e){return o.hasMarker(e,C)}};S=A;var O="AI_LoadAPIKeyError",N=`vercel.ai.error.${O}`,z=Symbol.for(N);var R="AI_LoadSettingError",P=`vercel.ai.error.${R}`,$=Symbol.for(P);var M="AI_NoContentGeneratedError",Z=`vercel.ai.error.${M}`,Y=Symbol.for(Z);var D,L="AI_NoSuchModelError",F=`vercel.ai.error.${L}`,U=Symbol.for(F),J=class extends o{constructor({errorName:e=L,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[D]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return o.hasMarker(e,F)}};D=U;var B="AI_TooManyEmbeddingValuesForCallError",V=`vercel.ai.error.${B}`,W=Symbol.for(V);var q,K="AI_TypeValidationError",G=`vercel.ai.error.${K}`,H=Symbol.for(G);q=H;var Q,X=class e extends o{constructor({value:e,cause:t}){super({name:K,message:`Type validation failed: Value: ${JSON.stringify(e)}.\nError message: ${f(t)}`,cause:t}),this[q]=!0,this.value=e}static isInstance(e){return o.hasMarker(e,G)}static wrap({value:t,cause:n}){return e.isInstance(n)&&n.value===t?n:new e({value:t,cause:n})}},ee="AI_UnsupportedFunctionalityError",te=`vercel.ai.error.${ee}`,ne=Symbol.for(te),re=class extends o{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ee,message:t}),this[Q]=!0,this.functionality=e}static isInstance(e){return o.hasMarker(e,te)}};Q=ne},99719:(e,t,n)=>{"use strict";n.d(t,{Y_:()=>Ft});var r,a=n(14041),s=n(23517),i=n(94499),o=n(38891),u=Object.defineProperty,c="AI_NoOutputSpecifiedError",l=`vercel.ai.error.${c}`,d=Symbol.for(l);i.bD;r=d;var p,h="AI_InvalidArgumentError",f=`vercel.ai.error.${h}`,m=Symbol.for(f);i.bD;p=m;var v,y="AI_InvalidStreamPartError",g=`vercel.ai.error.${y}`,_=Symbol.for(g);i.bD;v=_;var b,k="AI_InvalidToolInputError",x=`vercel.ai.error.${k}`,I=Symbol.for(x);i.bD;b=I;var w,E="vercel.ai.error.AI_MCPClientError",S=Symbol.for(E);i.bD;w=S;var T,C="AI_NoImageGeneratedError",A=`vercel.ai.error.${C}`,j=Symbol.for(A);i.bD;T=j;var O,N="AI_NoObjectGeneratedError",z=`vercel.ai.error.${N}`,R=Symbol.for(z),P=class extends i.bD{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:N,message:e,cause:t}),this[O]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return i.bD.hasMarker(e,z)}};O=R;var $,M="AI_NoOutputGeneratedError",Z=`vercel.ai.error.${M}`,Y=Symbol.for(Z);i.bD;$=Y;var D,L="AI_NoSuchToolError",F=`vercel.ai.error.${L}`,U=Symbol.for(F);i.bD;D=U;var J,B="AI_ToolCallRepairError",V=`vercel.ai.error.${B}`,W=Symbol.for(V);i.bD;J=W;i.bD;var q,K="AI_InvalidDataContentError",G=`vercel.ai.error.${K}`,H=Symbol.for(G);i.bD;q=H;var Q,X="AI_InvalidMessageRoleError",ee=`vercel.ai.error.${X}`,te=Symbol.for(ee);i.bD;Q=te;var ne,re="AI_MessageConversionError",ae=`vercel.ai.error.${re}`,se=Symbol.for(ae);i.bD;ne=se;var ie,oe="AI_DownloadError",ue=`vercel.ai.error.${oe}`,ce=Symbol.for(ue);i.bD;ie=ce;var le,de="AI_RetryError",pe=`vercel.ai.error.${de}`,he=Symbol.for(pe);i.bD;le=he;var fe="5.0.49";var me=o.KC([o.Yj(),o.Nl(Uint8Array),o.Nl(ArrayBuffer),o.Ie((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);var ve=o.RZ((()=>o.KC([o.ch(),o.Yj(),o.ai(),o.zM(),o.g1(o.Yj(),ve),o.YO(ve)]))),ye=o.g1(o.Yj(),o.g1(o.Yj(),ve)),ge=o.Ik({type:o.eu("text"),text:o.Yj(),providerOptions:ye.optional()}),_e=o.Ik({type:o.eu("image"),image:o.KC([me,o.Nl(URL)]),mediaType:o.Yj().optional(),providerOptions:ye.optional()}),be=o.Ik({type:o.eu("file"),data:o.KC([me,o.Nl(URL)]),filename:o.Yj().optional(),mediaType:o.Yj(),providerOptions:ye.optional()}),ke=o.Ik({type:o.eu("reasoning"),text:o.Yj(),providerOptions:ye.optional()}),xe=o.Ik({type:o.eu("tool-call"),toolCallId:o.Yj(),toolName:o.Yj(),input:o.L5(),providerOptions:ye.optional(),providerExecuted:o.zM().optional()}),Ie=o.gM("type",[o.Ik({type:o.eu("text"),value:o.Yj()}),o.Ik({type:o.eu("json"),value:ve}),o.Ik({type:o.eu("error-text"),value:o.Yj()}),o.Ik({type:o.eu("error-json"),value:ve}),o.Ik({type:o.eu("content"),value:o.YO(o.KC([o.Ik({type:o.eu("text"),text:o.Yj()}),o.Ik({type:o.eu("media"),data:o.Yj(),mediaType:o.Yj()})]))})]),we=o.Ik({type:o.eu("tool-result"),toolCallId:o.Yj(),toolName:o.Yj(),output:Ie,providerOptions:ye.optional()}),Ee=o.Ik({role:o.eu("system"),content:o.Yj(),providerOptions:ye.optional()}),Se=o.Ik({role:o.eu("user"),content:o.KC([o.Yj(),o.YO(o.KC([ge,_e,be]))]),providerOptions:ye.optional()}),Te=o.Ik({role:o.eu("assistant"),content:o.KC([o.Yj(),o.YO(o.KC([ge,be,ke,xe,we]))]),providerOptions:ye.optional()}),Ce=o.Ik({role:o.eu("tool"),content:o.YO(we),providerOptions:ye.optional()});o.KC([Ee,Se,Te,Ce]);(0,s.createIdGenerator)({prefix:"aitxt",size:24});TransformStream;var Ae=o.KC([o.re({type:o.eu("text-start"),id:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("text-delta"),id:o.Yj(),delta:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("text-end"),id:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("error"),errorText:o.Yj()}),o.re({type:o.eu("tool-input-start"),toolCallId:o.Yj(),toolName:o.Yj(),providerExecuted:o.zM().optional(),dynamic:o.zM().optional()}),o.re({type:o.eu("tool-input-delta"),toolCallId:o.Yj(),inputTextDelta:o.Yj()}),o.re({type:o.eu("tool-input-available"),toolCallId:o.Yj(),toolName:o.Yj(),input:o.L5(),providerExecuted:o.zM().optional(),providerMetadata:ye.optional(),dynamic:o.zM().optional()}),o.re({type:o.eu("tool-input-error"),toolCallId:o.Yj(),toolName:o.Yj(),input:o.L5(),providerExecuted:o.zM().optional(),providerMetadata:ye.optional(),dynamic:o.zM().optional(),errorText:o.Yj()}),o.re({type:o.eu("tool-output-available"),toolCallId:o.Yj(),output:o.L5(),providerExecuted:o.zM().optional(),dynamic:o.zM().optional(),preliminary:o.zM().optional()}),o.re({type:o.eu("tool-output-error"),toolCallId:o.Yj(),errorText:o.Yj(),providerExecuted:o.zM().optional(),dynamic:o.zM().optional()}),o.re({type:o.eu("reasoning"),text:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("reasoning-start"),id:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("reasoning-delta"),id:o.Yj(),delta:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("reasoning-end"),id:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.eu("reasoning-part-finish")}),o.re({type:o.eu("source-url"),sourceId:o.Yj(),url:o.Yj(),title:o.Yj().optional(),providerMetadata:ye.optional()}),o.re({type:o.eu("source-document"),sourceId:o.Yj(),mediaType:o.Yj(),title:o.Yj(),filename:o.Yj().optional(),providerMetadata:ye.optional()}),o.re({type:o.eu("file"),url:o.Yj(),mediaType:o.Yj(),providerMetadata:ye.optional()}),o.re({type:o.Yj().startsWith("data-"),id:o.Yj().optional(),data:o.L5(),transient:o.zM().optional()}),o.re({type:o.eu("start-step")}),o.re({type:o.eu("finish-step")}),o.re({type:o.eu("start"),messageId:o.Yj().optional(),messageMetadata:o.L5().optional()}),o.re({type:o.eu("finish"),messageMetadata:o.L5().optional()}),o.re({type:o.eu("abort")}),o.re({type:o.eu("message-metadata"),messageMetadata:o.L5()})]);function je(e,t){if(void 0===e&&void 0===t)return;if(void 0===e)return t;if(void 0===t)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=t[r];if(void 0===a)continue;const s=r in e?e[r]:void 0,i=!(null===a||"object"!=typeof a||Array.isArray(a)||a instanceof Date||a instanceof RegExp),o=!(null==s||"object"!=typeof s||Array.isArray(s)||s instanceof Date||s instanceof RegExp);n[r]=i&&o?je(s,a):a}return n}function Oe(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,s){switch(e){case'"':n=a,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let o=0;o<e.length;o++){const u=e[o];switch(t[t.length-1]){case"ROOT":a(u,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(u){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===u)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===u)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===u)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(u,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(u,o);break;case"INSIDE_STRING":switch(u){case'"':t.pop(),n=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=o}break;case"INSIDE_ARRAY_START":if("]"===u)n=o,t.pop();else n=o,a(u,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(u){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=o,t.pop();break;default:n=o}break;case"INSIDE_ARRAY_AFTER_COMMA":a(u,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=o;break;case"INSIDE_NUMBER":switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(u,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(u,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,o+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(u,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o));break}}}let o=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--){switch(t[n]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}}return o}async function Ne(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await(0,s.safeParseJSON)({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await(0,s.safeParseJSON)({text:Oe(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function ze(e){return e.type.startsWith("tool-")}function Re(e){return"dynamic-tool"===e.type}function Pe(e){return ze(e)||Re(e)}function $e(e){return e.type.split("-").slice(1).join("-")}function Me({lastMessage:e,messageId:t}){return{message:"assistant"===(null==e?void 0:e.role)?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function Ze({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:a,onToolCall:i,onData:o}){return e.pipeThrough(new TransformStream({async transform(e,u){await r((async({state:r,write:c})=>{var l,d,p,h;function f(e){const t=r.message.parts.filter(ze).find((t=>t.toolCallId===e));if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function m(e){const t=r.message.parts.filter((e=>"dynamic-tool"===e.type)).find((t=>t.toolCallId===e));if(null==t)throw new Error("tool-output-error must be preceded by a tool-input-available");return t}function v(e){var t;const n=r.message.parts.find((t=>ze(t)&&t.toolCallId===e.toolCallId)),a=e,s=n;null!=n?(n.state=e.state,s.input=a.input,s.output=a.output,s.errorText=a.errorText,s.rawInput=a.rawInput,s.preliminary=a.preliminary,s.providerExecuted=null!=(t=a.providerExecuted)?t:n.providerExecuted,null!=a.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=a.providerMetadata)):r.message.parts.push({type:`tool-${e.toolName}`,toolCallId:e.toolCallId,state:e.state,input:a.input,output:a.output,rawInput:a.rawInput,errorText:a.errorText,providerExecuted:a.providerExecuted,preliminary:a.preliminary,...null!=a.providerMetadata?{callProviderMetadata:a.providerMetadata}:{}})}function y(e){var t;const n=r.message.parts.find((t=>"dynamic-tool"===t.type&&t.toolCallId===e.toolCallId)),a=e,s=n;null!=n?(n.state=e.state,s.toolName=e.toolName,s.input=a.input,s.output=a.output,s.errorText=a.errorText,s.rawInput=null!=(t=a.rawInput)?t:s.rawInput,s.preliminary=a.preliminary,null!=a.providerMetadata&&"input-available"===n.state&&(n.callProviderMetadata=a.providerMetadata)):r.message.parts.push({type:"dynamic-tool",toolName:e.toolName,toolCallId:e.toolCallId,state:e.state,input:a.input,output:a.output,errorText:a.errorText,preliminary:a.preliminary,...null!=a.providerMetadata?{callProviderMetadata:a.providerMetadata}:{}})}async function g(e){if(null!=e){const n=null!=r.message.metadata?je(r.message.metadata,e):e;null!=t&&await(0,s.validateTypes)({value:n,schema:t}),r.message.metadata=n}}switch(e.type){case"text-start":{const t={type:"text",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeTextParts[e.id]=t,r.message.parts.push(t),c();break}case"text-delta":{const t=r.activeTextParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(l=e.providerMetadata)?l:t.providerMetadata,c();break}case"text-end":{const t=r.activeTextParts[e.id];t.state="done",t.providerMetadata=null!=(d=e.providerMetadata)?d:t.providerMetadata,delete r.activeTextParts[e.id],c();break}case"reasoning-start":{const t={type:"reasoning",text:"",providerMetadata:e.providerMetadata,state:"streaming"};r.activeReasoningParts[e.id]=t,r.message.parts.push(t),c();break}case"reasoning-delta":{const t=r.activeReasoningParts[e.id];t.text+=e.delta,t.providerMetadata=null!=(p=e.providerMetadata)?p:t.providerMetadata,c();break}case"reasoning-end":{const t=r.activeReasoningParts[e.id];t.providerMetadata=null!=(h=e.providerMetadata)?h:t.providerMetadata,t.state="done",delete r.activeReasoningParts[e.id],c();break}case"file":r.message.parts.push({type:"file",mediaType:e.mediaType,url:e.url}),c();break;case"source-url":r.message.parts.push({type:"source-url",sourceId:e.sourceId,url:e.url,title:e.title,providerMetadata:e.providerMetadata}),c();break;case"source-document":r.message.parts.push({type:"source-document",sourceId:e.sourceId,mediaType:e.mediaType,title:e.title,filename:e.filename,providerMetadata:e.providerMetadata}),c();break;case"tool-input-start":{const t=r.message.parts.filter(ze);r.partialToolCalls[e.toolCallId]={text:"",toolName:e.toolName,index:t.length,dynamic:e.dynamic},e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0}):v({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-streaming",input:void 0,providerExecuted:e.providerExecuted}),c();break}case"tool-input-delta":{const t=r.partialToolCalls[e.toolCallId];t.text+=e.inputTextDelta;const{value:n}=await Ne(t.text);t.dynamic?y({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}):v({toolCallId:e.toolCallId,toolName:t.toolName,state:"input-streaming",input:n}),c();break}case"tool-input-available":e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerMetadata:e.providerMetadata}):v({toolCallId:e.toolCallId,toolName:e.toolName,state:"input-available",input:e.input,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c(),i&&!e.providerExecuted&&await i({toolCall:e});break;case"tool-input-error":e.dynamic?y({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:e.input,errorText:e.errorText,providerMetadata:e.providerMetadata}):v({toolCallId:e.toolCallId,toolName:e.toolName,state:"output-error",input:void 0,rawInput:e.input,errorText:e.errorText,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}),c();break;case"tool-output-available":if(e.dynamic){const t=m(e.toolCallId);y({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-available",input:t.input,output:e.output,preliminary:e.preliminary})}else{const t=f(e.toolCallId);v({toolCallId:e.toolCallId,toolName:$e(t),state:"output-available",input:t.input,output:e.output,providerExecuted:e.providerExecuted,preliminary:e.preliminary})}c();break;case"tool-output-error":if(e.dynamic){const t=m(e.toolCallId);y({toolCallId:e.toolCallId,toolName:t.toolName,state:"output-error",input:t.input,errorText:e.errorText})}else{const t=f(e.toolCallId);v({toolCallId:e.toolCallId,toolName:$e(t),state:"output-error",input:t.input,rawInput:t.rawInput,errorText:e.errorText})}c();break;case"start-step":r.message.parts.push({type:"step-start"});break;case"finish-step":r.activeTextParts={},r.activeReasoningParts={};break;case"start":null!=e.messageId&&(r.message.id=e.messageId),await g(e.messageMetadata),null==e.messageId&&null==e.messageMetadata||c();break;case"finish":case"message-metadata":await g(e.messageMetadata),null!=e.messageMetadata&&c();break;case"error":null==a||a(new Error(e.errorText));break;default:if(function(e){return e.type.startsWith("data-")}(e)){null!=(null==n?void 0:n[e.type])&&await(0,s.validateTypes)({value:e.data,schema:n[e.type]});const t=e;if(t.transient){null==o||o(t);break}const a=null!=t.id?r.message.parts.find((e=>t.type===e.type&&t.id===e.id)):void 0;null!=a?a.data=t.data:r.message.parts.push(t),null==o||o(t),c()}}u.enqueue(e)}))}}))}async function Ye({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:e}=await n.read();if(e)break}}catch(e){null==t||t(e)}finally{n.releaseLock()}}(0,s.createIdGenerator)({prefix:"aitxt",size:24});(0,s.createIdGenerator)({prefix:"aiobj",size:24});var De=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(e){return new Promise(((t,n)=>{this.queue.push((async()=>{try{await e(),t()}catch(e){n(e)}})),this.processQueue()}))}};(0,s.createIdGenerator)({prefix:"aiobj",size:24});i.bD;((e,t)=>{for(var n in t)u(e,n,{get:t[n],enumerable:!0})})({},{object:()=>Fe,text:()=>Le});var Le=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:e})=>({partial:e}),parseOutput:async({text:e})=>e}),Fe=({schema:e})=>{const t=(0,s.asSchema)(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:e}){const t=await Ne(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},n){const r=await(0,s.safeParseJSON)({text:e});if(!r.success)throw new P({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const a=await(0,s.safeValidateTypes)({value:r.value,schema:t});if(!a.success)throw new P({message:"No object generated: response did not match schema.",cause:a.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return a.value}}};var Ue,Je="AI_NoSuchProviderError",Be=`vercel.ai.error.${Je}`,Ve=Symbol.for(Be);i.eM;Ue=Ve;var We=o._H({name:o.Yj(),version:o.Yj()}),qe=o._H({_meta:o.lq(o.Ik({}).loose())}),Ke=qe,Ge=o.Ik({method:o.Yj(),params:o.lq(qe)}),He=o._H({experimental:o.lq(o.Ik({}).loose()),logging:o.lq(o.Ik({}).loose()),prompts:o.lq(o._H({listChanged:o.lq(o.zM())})),resources:o.lq(o._H({subscribe:o.lq(o.zM()),listChanged:o.lq(o.zM())})),tools:o.lq(o._H({listChanged:o.lq(o.zM())}))}),Qe=(Ke.extend({protocolVersion:o.Yj(),capabilities:He,serverInfo:We,instructions:o.lq(o.Yj())}),Ke.extend({nextCursor:o.lq(o.Yj())})),Xe=o.Ik({name:o.Yj(),description:o.lq(o.Yj()),inputSchema:o.Ik({type:o.eu("object"),properties:o.lq(o.Ik({}).loose())}).loose()}).loose(),et=(Qe.extend({tools:o.YO(Xe)}),o.Ik({type:o.eu("text"),text:o.Yj()}).loose()),tt=o.Ik({type:o.eu("image"),data:o.K3(),mimeType:o.Yj()}).loose(),nt=o.Ik({uri:o.Yj(),mimeType:o.lq(o.Yj())}).loose(),rt=nt.extend({text:o.Yj()}),at=nt.extend({blob:o.K3()}),st=o.Ik({type:o.eu("resource"),resource:o.KC([rt,at])}).loose(),it=(Ke.extend({content:o.YO(o.KC([et,tt,st])),isError:o.zM().default(!1).optional()}).or(Ke.extend({toolResult:o.L5()})),"2.0"),ot=o.Ik({jsonrpc:o.eu(it),id:o.KC([o.Yj(),o.ai().int()])}).merge(Ge).strict(),ut=o.Ik({jsonrpc:o.eu(it),id:o.KC([o.Yj(),o.ai().int()]),result:Ke}).strict(),ct=o.Ik({jsonrpc:o.eu(it),id:o.KC([o.Yj(),o.ai().int()]),error:o.Ik({code:o.ai().int(),message:o.Yj(),data:o.lq(o.L5())})}).strict(),lt=o.Ik({jsonrpc:o.eu(it)}).merge(o.Ik({method:o.Yj(),params:o.lq(qe)})).strict();o.KC([ot,lt,ut,ct]);i.bD;var dt=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:i}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=i}async sendMessages({abortSignal:e,...t}){var n,r,a,i,o;const u=await(0,s.resolve)(this.body),c=await(0,s.resolve)(this.headers),l=await(0,s.resolve)(this.credentials),d=await(null==(n=this.prepareSendMessagesRequest)?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...u,...t.body},headers:{...c,...t.headers},credentials:l,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),p=null!=(r=null==d?void 0:d.api)?r:this.api,h=void 0!==(null==d?void 0:d.headers)?d.headers:{...c,...t.headers},f=void 0!==(null==d?void 0:d.body)?d.body:{...u,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},m=null!=(a=null==d?void 0:d.credentials)?a:l,v=null!=(i=this.fetch)?i:globalThis.fetch,y=await v(p,{method:"POST",headers:(0,s.withUserAgentSuffix)({"Content-Type":"application/json",...h},`ai-sdk/${fe}`,(0,s.getRuntimeEnvironmentUserAgent)()),body:JSON.stringify(f),credentials:m,signal:e});if(!y.ok)throw new Error(null!=(o=await y.text())?o:"Failed to fetch the chat response.");if(!y.body)throw new Error("The response body is empty.");return this.processResponseStream(y.body)}async reconnectToStream(e){var t,n,r,a,i;const o=await(0,s.resolve)(this.body),u=await(0,s.resolve)(this.headers),c=await(0,s.resolve)(this.credentials),l=await(null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...u,...e.headers},credentials:c,requestMetadata:e.metadata})),d=null!=(n=null==l?void 0:l.api)?n:`${this.api}/${e.chatId}/stream`,p=void 0!==(null==l?void 0:l.headers)?l.headers:{...u,...e.headers},h=null!=(r=null==l?void 0:l.credentials)?r:c,f=null!=(a=this.fetch)?a:globalThis.fetch,m=await f(d,{method:"GET",headers:(0,s.withUserAgentSuffix)(p,`ai-sdk/${fe}`,(0,s.getRuntimeEnvironmentUserAgent)()),credentials:h});if(204===m.status)return null;if(!m.ok)throw new Error(null!=(i=await m.text())?i:"Failed to fetch the chat response.");if(!m.body)throw new Error("The response body is empty.");return this.processResponseStream(m.body)}},pt=class extends dt{constructor(e={}){super(e)}processResponseStream(e){return(0,s.parseJsonEventStream)({stream:e,schema:Ae}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}},ht=class{constructor({generateId:e=s.generateId,id:t=e(),transport:n=new pt,messageMetadataSchema:r,dataPartSchemas:a,state:i,onError:o,onToolCall:u,onFinish:c,onData:l,sendAutomaticallyWhen:d}){this.activeResponse=void 0,this.jobExecutor=new De,this.sendMessage=async(e,t)=>{var n,r,a,s;if(null==e)return void await this.makeRequest({trigger:"submit-message",messageId:null==(n=this.lastMessage)?void 0:n.id,...t});let i;if("text"in e||"files"in e){const t=Array.isArray(e.files)?e.files:await async function(e){if(null==e)return[];if(!(globalThis.FileList&&e instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(e).map((async e=>{const{name:t,type:n}=e;return{type:"file",mediaType:n,filename:t,url:await new Promise(((t,n)=>{const r=new FileReader;r.onload=e=>{var n;t(null==(n=e.target)?void 0:n.result)},r.onerror=e=>n(e),r.readAsDataURL(e)}))}})))}(e.files);i={parts:[...t,..."text"in e&&null!=e.text?[{type:"text",text:e.text}]:[]]}}else i=e;if(null!=e.messageId){const t=this.state.messages.findIndex((t=>t.id===e.messageId));if(-1===t)throw new Error(`message with id ${e.messageId} not found`);if("user"!==this.state.messages[t].role)throw new Error(`message with id ${e.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,t+1),this.state.replaceMessage(t,{...i,id:e.messageId,role:null!=(r=i.role)?r:"user",metadata:e.metadata})}else this.state.pushMessage({...i,id:null!=(a=i.id)?a:this.generateId(),role:null!=(s=i.role)?s:"user",metadata:e.metadata});await this.makeRequest({trigger:"submit-message",messageId:e.messageId,...t})},this.regenerate=async({messageId:e,...t}={})=>{const n=null==e?this.state.messages.length-1:this.state.messages.findIndex((t=>t.id===e));if(-1===n)throw new Error(`message ${e} not found`);this.state.messages=this.state.messages.slice(0,"assistant"===this.messages[n].role?n:n+1),await this.makeRequest({trigger:"regenerate-message",messageId:e,...t})},this.resumeStream=async(e={})=>{await this.makeRequest({trigger:"resume-stream",...e})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({tool:e,toolCallId:t,output:n})=>this.jobExecutor.run((async()=>{var e,r;const a=this.state.messages,s=a[a.length-1];this.state.replaceMessage(a.length-1,{...s,parts:s.parts.map((e=>Pe(e)&&e.toolCallId===t?{...e,state:"output-available",output:n}:e))}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map((e=>Pe(e)&&e.toolCallId===t?{...e,state:"output-available",output:n,errorText:void 0}:e))),"streaming"!==this.status&&"submitted"!==this.status&&(null==(e=this.sendAutomaticallyWhen)?void 0:e.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(r=this.lastMessage)?void 0:r.id})})),this.stop=async()=>{var e;"streaming"!==this.status&&"submitted"!==this.status||(null==(e=this.activeResponse)?void 0:e.abortController)&&this.activeResponse.abortController.abort()},this.id=t,this.transport=n,this.generateId=e,this.messageMetadataSchema=r,this.dataPartSchemas=a,this.state=i,this.onError=o,this.onToolCall=u,this.onFinish=c,this.onData=l,this.sendAutomaticallyWhen=d}get status(){return this.state.status}setStatus({status:e,error:t}){this.status!==e&&(this.state.status=e,this.state.error=t)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(e){this.state.messages=e}async makeRequest({trigger:e,metadata:t,headers:n,body:r,messageId:a}){var s,i,o;this.setStatus({status:"submitted",error:void 0});const u=this.lastMessage;let c=!1,l=!1,d=!1;try{const s={state:Me({lastMessage:this.state.snapshot(u),messageId:this.generateId()}),abortController:new AbortController};let i;if(s.abortController.signal.addEventListener("abort",(()=>{c=!0})),this.activeResponse=s,"resume-stream"===e){const e=await this.transport.reconnectToStream({chatId:this.id,metadata:t,headers:n,body:r});if(null==e)return void this.setStatus({status:"ready"});i=e}else i=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:s.abortController.signal,metadata:t,headers:n,body:r,trigger:e,messageId:a});const o=e=>this.jobExecutor.run((()=>e({state:s.state,write:()=>{var e;this.setStatus({status:"streaming"});s.state.message.id===(null==(e=this.lastMessage)?void 0:e.id)?this.state.replaceMessage(this.state.messages.length-1,s.state.message):this.state.pushMessage(s.state.message)}})));await Ye({stream:Ze({stream:i,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob:o,onError:e=>{throw e}}),onError:e=>{throw e}}),this.setStatus({status:"ready"})}catch(e){if(c||"AbortError"===e.name)return c=!0,this.setStatus({status:"ready"}),null;d=!0,e instanceof TypeError&&(e.message.toLowerCase().includes("fetch")||e.message.toLowerCase().includes("network"))&&(l=!0),this.onError&&e instanceof Error&&this.onError(e),this.setStatus({status:"error",error:e})}finally{try{null==(s=this.onFinish)||s.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort:c,isDisconnect:l,isError:d})}catch(e){console.error(e)}this.activeResponse=void 0}(null==(i=this.sendAutomaticallyWhen)?void 0:i.call(this,{messages:this.state.messages}))&&await this.makeRequest({trigger:"submit-message",messageId:null==(o=this.lastMessage)?void 0:o.id,metadata:t,headers:n,body:r})}};var ft=o.Ik({type:o.eu("text"),text:o.Yj(),state:o.k5(["streaming","done"]).optional(),providerMetadata:ye.optional()}),mt=o.Ik({type:o.eu("reasoning"),text:o.Yj(),state:o.k5(["streaming","done"]).optional(),providerMetadata:ye.optional()}),vt=o.Ik({type:o.eu("source-url"),sourceId:o.Yj(),url:o.Yj(),title:o.Yj().optional(),providerMetadata:ye.optional()}),yt=o.Ik({type:o.eu("source-document"),sourceId:o.Yj(),mediaType:o.Yj(),title:o.Yj(),filename:o.Yj().optional(),providerMetadata:ye.optional()}),gt=o.Ik({type:o.eu("file"),mediaType:o.Yj(),filename:o.Yj().optional(),url:o.Yj(),providerMetadata:ye.optional()}),_t=o.Ik({type:o.eu("step-start")}),bt=o.Ik({type:o.Yj().startsWith("data-"),id:o.Yj().optional(),data:o.L5()}),kt=[o.Ik({type:o.eu("dynamic-tool"),toolName:o.Yj(),toolCallId:o.Yj(),state:o.eu("input-streaming"),input:o.L5().optional(),output:o.Zm().optional(),errorText:o.Zm().optional()}),o.Ik({type:o.eu("dynamic-tool"),toolName:o.Yj(),toolCallId:o.Yj(),state:o.eu("input-available"),input:o.L5(),output:o.Zm().optional(),errorText:o.Zm().optional(),callProviderMetadata:ye.optional()}),o.Ik({type:o.eu("dynamic-tool"),toolName:o.Yj(),toolCallId:o.Yj(),state:o.eu("output-available"),input:o.L5(),output:o.L5(),errorText:o.Zm().optional(),callProviderMetadata:ye.optional(),preliminary:o.zM().optional()}),o.Ik({type:o.eu("dynamic-tool"),toolName:o.Yj(),toolCallId:o.Yj(),state:o.eu("output-error"),input:o.L5(),output:o.Zm().optional(),errorText:o.Yj(),callProviderMetadata:ye.optional()})],xt=[o.Ik({type:o.Yj().startsWith("tool-"),toolCallId:o.Yj(),state:o.eu("input-streaming"),providerExecuted:o.zM().optional(),input:o.L5().optional(),output:o.Zm().optional(),errorText:o.Zm().optional()}),o.Ik({type:o.Yj().startsWith("tool-"),toolCallId:o.Yj(),state:o.eu("input-available"),providerExecuted:o.zM().optional(),input:o.L5(),output:o.Zm().optional(),errorText:o.Zm().optional(),callProviderMetadata:ye.optional()}),o.Ik({type:o.Yj().startsWith("tool-"),toolCallId:o.Yj(),state:o.eu("output-available"),providerExecuted:o.zM().optional(),input:o.L5(),output:o.L5(),errorText:o.Zm().optional(),callProviderMetadata:ye.optional(),preliminary:o.zM().optional()}),o.Ik({type:o.Yj().startsWith("tool-"),toolCallId:o.Yj(),state:o.eu("output-error"),providerExecuted:o.zM().optional(),input:o.L5(),output:o.Zm().optional(),errorText:o.Yj(),callProviderMetadata:ye.optional()})];o.Ik({id:o.Yj(),role:o.k5(["system","user","assistant"]),metadata:o.L5().optional(),parts:o.YO(o.KC([ft,mt,vt,yt,gt,_t,bt,...kt,...xt]))});var It,wt,Et,St,Tt,Ct,At,jt,Ot,Nt=n(47971),zt=n.n(Nt),Rt=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Pt=(e,t,n)=>(Rt(e,t,"read from private field"),n?n.call(e):t.get(e)),$t=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Mt=(e,t,n,r)=>(Rt(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function Zt(e,t){return null!=t?zt()(e,t):e}var Yt,Dt=class{constructor(e=[]){$t(this,It,void 0),$t(this,wt,"ready"),$t(this,Et,void 0),$t(this,St,new Set),$t(this,Tt,new Set),$t(this,Ct,new Set),this.pushMessage=e=>{Mt(this,It,Pt(this,It).concat(e)),Pt(this,At).call(this)},this.popMessage=()=>{Mt(this,It,Pt(this,It).slice(0,-1)),Pt(this,At).call(this)},this.replaceMessage=(e,t)=>{Mt(this,It,[...Pt(this,It).slice(0,e),this.snapshot(t),...Pt(this,It).slice(e+1)]),Pt(this,At).call(this)},this.snapshot=e=>structuredClone(e),this["~registerMessagesCallback"]=(e,t)=>{const n=t?Zt(e,t):e;return Pt(this,St).add(n),()=>{Pt(this,St).delete(n)}},this["~registerStatusCallback"]=e=>(Pt(this,Tt).add(e),()=>{Pt(this,Tt).delete(e)}),this["~registerErrorCallback"]=e=>(Pt(this,Ct).add(e),()=>{Pt(this,Ct).delete(e)}),$t(this,At,(()=>{Pt(this,St).forEach((e=>e()))})),$t(this,jt,(()=>{Pt(this,Tt).forEach((e=>e()))})),$t(this,Ot,(()=>{Pt(this,Ct).forEach((e=>e()))})),Mt(this,It,e)}get status(){return Pt(this,wt)}set status(e){Mt(this,wt,e),Pt(this,jt).call(this)}get error(){return Pt(this,Et)}set error(e){Mt(this,Et,e),Pt(this,Ot).call(this)}get messages(){return Pt(this,It)}set messages(e){Mt(this,It,[...e]),Pt(this,At).call(this)}};It=new WeakMap,wt=new WeakMap,Et=new WeakMap,St=new WeakMap,Tt=new WeakMap,Ct=new WeakMap,At=new WeakMap,jt=new WeakMap,Ot=new WeakMap;var Lt=class extends ht{constructor({messages:e,...t}){const n=new Dt(e);super({...t,state:n}),$t(this,Yt,void 0),this["~registerMessagesCallback"]=(e,t)=>Pt(this,Yt)["~registerMessagesCallback"](e,t),this["~registerStatusCallback"]=e=>Pt(this,Yt)["~registerStatusCallback"](e),this["~registerErrorCallback"]=e=>Pt(this,Yt)["~registerErrorCallback"](e),Mt(this,Yt,n)}};function Ft({experimental_throttle:e,resume:t=!1,...n}={}){const r=(0,a.useRef)("chat"in n?n.chat:new Lt(n));("chat"in n&&n.chat!==r.current||"id"in n&&r.current.id!==n.id)&&(r.current="chat"in n?n.chat:new Lt(n));const s="id"in n?n.id:null,i=(0,a.useCallback)((t=>r.current["~registerMessagesCallback"](t,e)),[e,s]),o=(0,a.useSyncExternalStore)(i,(()=>r.current.messages),(()=>r.current.messages)),u=(0,a.useSyncExternalStore)(r.current["~registerStatusCallback"],(()=>r.current.status),(()=>r.current.status)),c=(0,a.useSyncExternalStore)(r.current["~registerErrorCallback"],(()=>r.current.error),(()=>r.current.error)),l=(0,a.useCallback)((e=>{"function"==typeof e&&(e=e(r.current.messages)),r.current.messages=e}),[r]);return(0,a.useEffect)((()=>{t&&r.current.resumeStream()}),[t,r]),{id:r.current.id,messages:o,setMessages:l,sendMessage:r.current.sendMessage,regenerate:r.current.regenerate,clearError:r.current.clearError,stop:r.current.stop,error:c,resumeStream:r.current.resumeStream,status:u,addToolResult:r.current.addToolResult}}Yt=new WeakMap},80243:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function o(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e,t){return c(e)||l(e,t)||d(e,t)||h()}function c(e){if(Array.isArray(e))return e}function l(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){o=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}}function d(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var m="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function v(){}function y(){}y.resetWarningCache=v;var g=function(){function e(e,t,n,r,a,s){if(s!==m){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y,resetWarningCache:v};return n.PropTypes=n,n},_=f((function(e){e.exports=g()})),b=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===a(e)},x=function(e){return k(e)&&"function"==typeof e.then},I=function(e){return k(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment},w="[object Object]",E=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var a=Object.prototype.toString.call(t)===w;if(a!==(Object.prototype.toString.call(n)===w))return!1;if(!a&&!r)return t===n;var s=Object.keys(t),i=Object.keys(n);if(s.length!==i.length)return!1;for(var o={},u=0;u<s.length;u+=1)o[s[u]]=!0;for(var c=0;c<i.length;c+=1)o[i[c]]=!0;var l=Object.keys(o);if(l.length!==s.length)return!1;var d=t,p=n,h=function(t){return e(d[t],p[t])};return l.every(h)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(a,i){var o=!k(t)||!E(e[i],t[i]);return n.includes(i)?(o&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),a):o?r(r({},a||{}),{},s({},i,e[i])):a}),null):null},T="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;if(null===e||I(e))return e;throw new Error(t)},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:T;if(x(e))return{tag:"async",stripePromise:Promise.resolve(e).then((function(e){return C(e,t)}))};var n=C(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},j=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.5.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.5.1",url:"https://stripe.com/docs/stripe-js/react"}))},O=t.createContext(null);O.displayName="ElementsContext";var N=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},z=t.createContext(null);z.displayName="CartElementContext";var R=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},P=function(e){var n=e.stripe,r=e.options,a=e.children,s=t.useMemo((function(){return A(n)}),[n]),i=u(t.useState(null),2),o=i[0],c=i[1],l=u(t.useState(null),2),d=l[0],p=l[1],h=u(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,elements:"sync"===s.tag?s.stripe.elements(r):null}})),2),f=h[0],m=h[1];t.useEffect((function(){var e=!0,t=function(e){m((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==s.tag||f.stripe?"sync"!==s.tag||f.stripe||t(s.stripe):s.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[s,f,r]);var v=b(n);t.useEffect((function(){null!==v&&v!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[v,n]);var y=b(r);return t.useEffect((function(){if(f.elements){var e=S(r,y,["clientSecret","fonts"]);e&&f.elements.update(e)}}),[r,y,f.elements]),t.useEffect((function(){j(f.stripe)}),[f.stripe]),t.createElement(O.Provider,{value:f},t.createElement(z.Provider,{value:{cart:o,setCart:c,cartState:d,setCartState:p}},a))};P.propTypes={stripe:_.any,options:_.object};var $=function(e){var n=t.useContext(O);return N(n,e)},M={cart:null,cartState:null,setCart:function(){},setCartState:function(){}},Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.useContext(z);return n?M:R(r,e)},Y=function(){return $("calls useElements()").elements},D=function(){return Z("calls useCartElement()").cart},L=function(){return Z("calls useCartElementState()").cartState},F=function(e){return(0,e.children)($("mounts <ElementsConsumer>"))};F.propTypes={children:_.func.isRequired};var U=function(e,n,r){var a=!!r,s=t.useRef(r);t.useEffect((function(){s.current=r}),[r]),t.useEffect((function(){if(!a||!e)return function(){};var t=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[a,n,e,s])},J=["on","session"],B=t.createContext(null);B.displayName="CustomCheckoutSdkContext";var V=function(e,t){if(!e)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CustomCheckoutProvider> provider."));return e},W=t.createContext(null);W.displayName="CustomCheckoutContext";var q=function(e,t){if(!e)return null;e.on,e.session;var n=o(e,J);return r(r({},n),t||e.session())},K="Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",G=function(e){var n=e.stripe,r=e.options,a=e.children,s=t.useMemo((function(){return A(n,K)}),[n]),i=u(t.useState(null),2),o=i[0],c=i[1],l=u(t.useState((function(){return{stripe:"sync"===s.tag?s.stripe:null,customCheckoutSdk:null}})),2),d=l[0],p=l[1],h=function(e,t){p((function(n){return n.stripe&&n.customCheckoutSdk?n:{stripe:e,customCheckoutSdk:t}}))},f=t.useRef(!1);t.useEffect((function(){var e=!0;return"async"!==s.tag||d.stripe?"sync"===s.tag&&s.stripe&&!f.current&&(f.current=!0,s.stripe.initCustomCheckout(r).then((function(e){e&&(h(s.stripe,e),e.on("change",c))}))):s.stripePromise.then((function(t){t&&e&&!f.current&&(f.current=!0,t.initCustomCheckout(r).then((function(e){e&&(h(t,e),e.on("change",c))})))})),function(){e=!1}}),[s,d,r,c]);var m=b(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[m,n]);var v=b(r);t.useEffect((function(){var e,t;if(d.customCheckoutSdk){!r.clientSecret||k(v)||E(r.clientSecret,v.clientSecret)||console.warn("Unsupported prop change: options.client_secret is not a mutable property.");var n=null==v||null===(e=v.elementsOptions)||void 0===e?void 0:e.appearance,a=null==r||null===(t=r.elementsOptions)||void 0===t?void 0:t.appearance;a&&!E(a,n)&&d.customCheckoutSdk.changeAppearance(a)}}),[r,v,d.customCheckoutSdk]),t.useEffect((function(){j(d.stripe)}),[d.stripe]);var y=t.useMemo((function(){return q(d.customCheckoutSdk,o)}),[d.customCheckoutSdk,o]);return d.customCheckoutSdk?t.createElement(B.Provider,{value:d},t.createElement(W.Provider,{value:y},a)):null};G.propTypes={stripe:_.any,options:_.shape({clientSecret:_.string.isRequired,elementsOptions:_.object}).isRequired};var H=function(e){var n=t.useContext(B);return V(n,e)},Q=function(e){var n=t.useContext(B),r=t.useContext(O);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CustomCheckoutProvider> and <Elements> providers."));return n?V(n,e):N(r,e)},X=function(){H("calls useCustomCheckout()");var e=t.useContext(W);if(!e)throw new Error("Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.");return e},ee=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},te=function(e,n){var r="".concat(ee(e),"Element"),a=n?function(e){var n=Q("mounts <".concat(r,">"));Z("mounts <".concat(r,">"),"customCheckoutSdk"in n);var a=e.id,s=e.className;return t.createElement("div",{id:a,className:s})}:function(n){var a,s=n.id,i=n.className,o=n.options,c=void 0===o?{}:o,l=n.onBlur,d=n.onFocus,p=n.onReady,h=n.onChange,f=n.onEscape,m=n.onClick,v=n.onLoadError,y=n.onLoaderStart,g=n.onNetworksChange,_=n.onCheckout,k=n.onLineItemClick,x=n.onConfirm,I=n.onCancel,w=n.onShippingAddressChange,E=n.onShippingRateChange,T=Q("mounts <".concat(r,">")),C="elements"in T?T.elements:null,A="customCheckoutSdk"in T?T.customCheckoutSdk:null,j=u(t.useState(null),2),O=j[0],N=j[1],z=t.useRef(null),R=t.useRef(null),P=Z("mounts <".concat(r,">"),"customCheckoutSdk"in T),$=P.setCart,M=P.setCartState;U(O,"blur",l),U(O,"focus",d),U(O,"escape",f),U(O,"click",m),U(O,"loaderror",v),U(O,"loaderstart",y),U(O,"networkschange",g),U(O,"lineitemclick",k),U(O,"confirm",x),U(O,"cancel",I),U(O,"shippingaddresschange",w),U(O,"shippingratechange",E),"cart"===e?a=function(e){M(e),p&&p(e)}:p&&(a="expressCheckout"===e?p:function(){p(O)}),U(O,"ready",a),U(O,"change","cart"===e?function(e){M(e),h&&h(e)}:h),U(O,"checkout","cart"===e?function(e){M(e),_&&_(e)}:_),t.useLayoutEffect((function(){if(null===z.current&&null!==R.current&&(C||A)){var t=null;A?t=A.createElement(e,c):C&&(t=C.create(e,c)),"cart"===e&&$&&$(t),z.current=t,N(t),t&&t.mount(R.current)}}),[C,A,c,$]);var Y=b(c);return t.useEffect((function(){if(z.current){var e=S(c,Y,["paymentRequest"]);e&&z.current.update(e)}}),[c,Y]),t.useLayoutEffect((function(){return function(){if(z.current&&"function"==typeof z.current.destroy)try{z.current.destroy(),z.current=null}catch(e){}}}),[]),t.createElement("div",{id:s,className:i,ref:R})};return a.propTypes={id:_.string,className:_.string,onChange:_.func,onBlur:_.func,onFocus:_.func,onReady:_.func,onEscape:_.func,onClick:_.func,onLoadError:_.func,onLoaderStart:_.func,onNetworksChange:_.func,onCheckout:_.func,onLineItemClick:_.func,onConfirm:_.func,onCancel:_.func,onShippingAddressChange:_.func,onShippingRateChange:_.func,options:_.object},a.displayName=r,a.__elementType=e,a},ne="undefined"==typeof window,re=t.createContext(null);re.displayName="EmbeddedCheckoutProviderContext";var ae=function(){var e=t.useContext(re);if(!e)throw new Error("<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>");return e},se="Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",ie=function(e){var n=e.stripe,r=e.options,a=e.children,s=t.useMemo((function(){return A(n,se)}),[n]),i=t.useRef(null),o=t.useRef(null),c=u(t.useState({embeddedCheckout:null}),2),l=c[0],d=c[1];t.useEffect((function(){if(!o.current&&!i.current){var e=function(e){o.current||i.current||(o.current=e,i.current=o.current.initEmbeddedCheckout(r).then((function(e){d({embeddedCheckout:e})})))};"async"===s.tag&&!o.current&&r.clientSecret?s.stripePromise.then((function(t){t&&e(t)})):"sync"===s.tag&&!o.current&&r.clientSecret&&e(s.stripe)}}),[s,r,l,o]),t.useEffect((function(){return function(){l.embeddedCheckout?(i.current=null,l.embeddedCheckout.destroy()):i.current&&i.current.then((function(){i.current=null,l.embeddedCheckout&&l.embeddedCheckout.destroy()}))}}),[l.embeddedCheckout]),t.useEffect((function(){j(o)}),[o]);var p=b(n);t.useEffect((function(){null!==p&&p!==n&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.")}),[p,n]);var h=b(r);return t.useEffect((function(){null!=h&&(null!=r?(null!=h.clientSecret&&r.clientSecret!==h.clientSecret&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead."),null!=h.onComplete&&r.onComplete!==h.onComplete&&console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.")):console.warn("Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them."))}),[h,r]),t.createElement(re.Provider,{value:l},a)},oe=function(e){var n=e.id,r=e.className,a=ae().embeddedCheckout,s=t.useRef(!1),i=t.useRef(null);return t.useLayoutEffect((function(){return!s.current&&a&&null!==i.current&&(a.mount(i.current),s.current=!0),function(){if(s.current&&a)try{a.unmount(),s.current=!1}catch(e){}}}),[a]),t.createElement("div",{ref:i,id:n,className:r})},ue=function(e){var n=e.id,r=e.className;return ae(),t.createElement("div",{id:n,className:r})},ce=ne?ue:oe,le=function(){return Q("calls useStripe()").stripe},de=te("auBankAccount",ne),pe=te("card",ne),he=te("cardNumber",ne),fe=te("cardExpiry",ne),me=te("cardCvc",ne),ve=te("fpxBank",ne),ye=te("iban",ne),ge=te("idealBank",ne),_e=te("p24Bank",ne),be=te("epsBank",ne),ke=te("payment",ne),xe=te("expressCheckout",ne),Ie=te("paymentRequestButton",ne),we=te("linkAuthentication",ne),Ee=te("address",ne),Se=te("shippingAddress",ne),Te=te("cart",ne),Ce=te("paymentMethodMessaging",ne),Ae=te("affirmMessage",ne),je=te("afterpayClearpayMessage",ne);e.AddressElement=Ee,e.AffirmMessageElement=Ae,e.AfterpayClearpayMessageElement=je,e.AuBankAccountElement=de,e.CardCvcElement=me,e.CardElement=pe,e.CardExpiryElement=fe,e.CardNumberElement=he,e.CartElement=Te,e.CustomCheckoutProvider=G,e.Elements=P,e.ElementsConsumer=F,e.EmbeddedCheckout=ce,e.EmbeddedCheckoutProvider=ie,e.EpsBankElement=be,e.ExpressCheckoutElement=xe,e.FpxBankElement=ve,e.IbanElement=ye,e.IdealBankElement=ge,e.LinkAuthenticationElement=we,e.P24BankElement=_e,e.PaymentElement=ke,e.PaymentMethodMessagingElement=Ce,e.PaymentRequestButtonElement=Ie,e.ShippingAddressElement=Se,e.useCartElement=D,e.useCartElementState=L,e.useCustomCheckout=X,e.useElements=Y,e.useStripe=le,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(14041))},93798:(e,t,n)=>{"use strict";n.d(t,{c:()=>f});var r,a="https://js.stripe.com/v3",s=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,i="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",o=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(a).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},u=null,c=null,l=null,d=function(e){return null!==u?u:(u=new Promise((function(t,n){if("undefined"!=typeof window&&"undefined"!=typeof document)if(window.Stripe&&e&&console.warn(i),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(a,'"]')),t=0;t<e.length;t++){var n=e[t];if(s.test(n.src))return n}return null}();if(r&&e)console.warn(i);else if(r){if(r&&null!==l&&null!==c){var u;r.removeEventListener("load",l),r.removeEventListener("error",c),null===(u=r.parentNode)||void 0===u||u.removeChild(r),r=o(e)}}else r=o(e);l=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),c=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",l),r.addEventListener("error",c)}catch(e){return void n(e)}else t(null)}))).catch((function(e){return u=null,Promise.reject(e)}))},p=!1,h=function(){return r||(r=d(null).catch((function(e){return r=null,Promise.reject(e)})))};Promise.resolve().then((function(){return h()})).catch((function(e){p||console.warn(e)}));var f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];p=!0;var r=Date.now();return h().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"3.0.7",startTime:t})}(r,n),r}(e,t,r)}))}},2164:(e,t,n)=>{"use strict";n.d(t,{qG:()=>it,rL:()=>st});var r,a=n(23517),s=n(94499),i=n(38891),o=Object.defineProperty,u="AI_NoOutputSpecifiedError",c=`vercel.ai.error.${u}`,l=Symbol.for(c);s.bD;r=l;var d,p="AI_InvalidArgumentError",h=`vercel.ai.error.${p}`,f=Symbol.for(h);s.bD;d=f;var m,v="AI_InvalidStreamPartError",y=`vercel.ai.error.${v}`,g=Symbol.for(y);s.bD;m=g;var _,b="AI_InvalidToolInputError",k=`vercel.ai.error.${b}`,x=Symbol.for(k);s.bD;_=x;var I,w="vercel.ai.error.AI_MCPClientError",E=Symbol.for(w);s.bD;I=E;var S,T="AI_NoImageGeneratedError",C=`vercel.ai.error.${T}`,A=Symbol.for(C);s.bD;S=A;var j,O="AI_NoObjectGeneratedError",N=`vercel.ai.error.${O}`,z=Symbol.for(N),R=class extends s.bD{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:a,finishReason:s}){super({name:O,message:e,cause:t}),this[j]=!0,this.text=n,this.response=r,this.usage=a,this.finishReason=s}static isInstance(e){return s.bD.hasMarker(e,N)}};j=z;var P,$="AI_NoOutputGeneratedError",M=`vercel.ai.error.${$}`,Z=Symbol.for(M);s.bD;P=Z;var Y,D="AI_NoSuchToolError",L=`vercel.ai.error.${D}`,F=Symbol.for(L);s.bD;Y=F;var U,J="AI_ToolCallRepairError",B=`vercel.ai.error.${J}`,V=Symbol.for(B);s.bD;U=V;s.bD;var W,q="AI_InvalidDataContentError",K=`vercel.ai.error.${q}`,G=Symbol.for(K);s.bD;W=G;var H,Q="AI_InvalidMessageRoleError",X=`vercel.ai.error.${Q}`,ee=Symbol.for(X);s.bD;H=ee;var te,ne="AI_MessageConversionError",re=`vercel.ai.error.${ne}`,ae=Symbol.for(re);s.bD;te=ae;var se,ie="AI_DownloadError",oe=`vercel.ai.error.${ie}`,ue=Symbol.for(oe);s.bD;se=ue;var ce,le="AI_RetryError",de=`vercel.ai.error.${le}`,pe=Symbol.for(de);s.bD;ce=pe;var he="5.0.52";var fe=i.KC([i.Yj(),i.Nl(Uint8Array),i.Nl(ArrayBuffer),i.Ie((e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n}),{message:"Must be a Buffer"})]);var me=i.RZ((()=>i.KC([i.ch(),i.Yj(),i.ai(),i.zM(),i.g1(i.Yj(),me),i.YO(me)]))),ve=i.g1(i.Yj(),i.g1(i.Yj(),me)),ye=i.Ik({type:i.eu("text"),text:i.Yj(),providerOptions:ve.optional()}),ge=i.Ik({type:i.eu("image"),image:i.KC([fe,i.Nl(URL)]),mediaType:i.Yj().optional(),providerOptions:ve.optional()}),_e=i.Ik({type:i.eu("file"),data:i.KC([fe,i.Nl(URL)]),filename:i.Yj().optional(),mediaType:i.Yj(),providerOptions:ve.optional()}),be=i.Ik({type:i.eu("reasoning"),text:i.Yj(),providerOptions:ve.optional()}),ke=i.Ik({type:i.eu("tool-call"),toolCallId:i.Yj(),toolName:i.Yj(),input:i.L5(),providerOptions:ve.optional(),providerExecuted:i.zM().optional()}),xe=i.gM("type",[i.Ik({type:i.eu("text"),value:i.Yj()}),i.Ik({type:i.eu("json"),value:me}),i.Ik({type:i.eu("error-text"),value:i.Yj()}),i.Ik({type:i.eu("error-json"),value:me}),i.Ik({type:i.eu("content"),value:i.YO(i.KC([i.Ik({type:i.eu("text"),text:i.Yj()}),i.Ik({type:i.eu("media"),data:i.Yj(),mediaType:i.Yj()})]))})]),Ie=i.Ik({type:i.eu("tool-result"),toolCallId:i.Yj(),toolName:i.Yj(),output:xe,providerOptions:ve.optional()}),we=i.Ik({role:i.eu("system"),content:i.Yj(),providerOptions:ve.optional()}),Ee=i.Ik({role:i.eu("user"),content:i.KC([i.Yj(),i.YO(i.KC([ye,ge,_e]))]),providerOptions:ve.optional()}),Se=i.Ik({role:i.eu("assistant"),content:i.KC([i.Yj(),i.YO(i.KC([ye,_e,be,ke,Ie]))]),providerOptions:ve.optional()}),Te=i.Ik({role:i.eu("tool"),content:i.YO(Ie),providerOptions:ve.optional()});i.KC([we,Ee,Se,Te]);(0,a.createIdGenerator)({prefix:"aitxt",size:24});TransformStream;var Ce=i.KC([i.re({type:i.eu("text-start"),id:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("text-delta"),id:i.Yj(),delta:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("text-end"),id:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("error"),errorText:i.Yj()}),i.re({type:i.eu("tool-input-start"),toolCallId:i.Yj(),toolName:i.Yj(),providerExecuted:i.zM().optional(),dynamic:i.zM().optional()}),i.re({type:i.eu("tool-input-delta"),toolCallId:i.Yj(),inputTextDelta:i.Yj()}),i.re({type:i.eu("tool-input-available"),toolCallId:i.Yj(),toolName:i.Yj(),input:i.L5(),providerExecuted:i.zM().optional(),providerMetadata:ve.optional(),dynamic:i.zM().optional()}),i.re({type:i.eu("tool-input-error"),toolCallId:i.Yj(),toolName:i.Yj(),input:i.L5(),providerExecuted:i.zM().optional(),providerMetadata:ve.optional(),dynamic:i.zM().optional(),errorText:i.Yj()}),i.re({type:i.eu("tool-output-available"),toolCallId:i.Yj(),output:i.L5(),providerExecuted:i.zM().optional(),dynamic:i.zM().optional(),preliminary:i.zM().optional()}),i.re({type:i.eu("tool-output-error"),toolCallId:i.Yj(),errorText:i.Yj(),providerExecuted:i.zM().optional(),dynamic:i.zM().optional()}),i.re({type:i.eu("reasoning-start"),id:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("reasoning-delta"),id:i.Yj(),delta:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("reasoning-end"),id:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.eu("source-url"),sourceId:i.Yj(),url:i.Yj(),title:i.Yj().optional(),providerMetadata:ve.optional()}),i.re({type:i.eu("source-document"),sourceId:i.Yj(),mediaType:i.Yj(),title:i.Yj(),filename:i.Yj().optional(),providerMetadata:ve.optional()}),i.re({type:i.eu("file"),url:i.Yj(),mediaType:i.Yj(),providerMetadata:ve.optional()}),i.re({type:i.Ie((e=>"string"==typeof e&&e.startsWith("data-")),{message:'Type must start with "data-"'}),id:i.Yj().optional(),data:i.L5(),transient:i.zM().optional()}),i.re({type:i.eu("start-step")}),i.re({type:i.eu("finish-step")}),i.re({type:i.eu("start"),messageId:i.Yj().optional(),messageMetadata:i.L5().optional()}),i.re({type:i.eu("finish"),messageMetadata:i.L5().optional()}),i.re({type:i.eu("abort")}),i.re({type:i.eu("message-metadata"),messageMetadata:i.L5()})]);function Ae(e){const t=["ROOT"];let n=-1,r=null;function a(e,a,s){switch(e){case'"':n=a,t.pop(),t.push(s),t.push("INSIDE_STRING");break;case"f":case"t":case"n":n=a,r=a,t.pop(),t.push(s),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=a,t.pop(),t.push(s),t.push("INSIDE_NUMBER");break;case"{":n=a,t.pop(),t.push(s),t.push("INSIDE_OBJECT_START");break;case"[":n=a,t.pop(),t.push(s),t.push("INSIDE_ARRAY_START")}}function s(e,r){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":n=r,t.pop()}}function i(e,r){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=r,t.pop()}}for(let o=0;o<e.length;o++){const u=e[o];switch(t[t.length-1]){case"ROOT":a(u,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(u){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":n=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===u)t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===u)t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===u)t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":a(u,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":s(u,o);break;case"INSIDE_STRING":switch(u){case'"':t.pop(),n=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:n=o}break;case"INSIDE_ARRAY_START":if("]"===u)n=o,t.pop();else n=o,a(u,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(u){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":n=o,t.pop();break;default:n=o}break;case"INSIDE_ARRAY_AFTER_COMMA":a(u,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),n=o;break;case"INSIDE_NUMBER":switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(u,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&s(u,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{const a=e.substring(r,o+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?n=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?s(u,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&i(u,o));break}}}let o=e.slice(0,n+1);for(let n=t.length-1;n>=0;n--){switch(t[n]){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{const t=e.substring(r,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}}return o}async function je(e){if(void 0===e)return{value:void 0,state:"undefined-input"};let t=await(0,a.safeParseJSON)({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await(0,a.safeParseJSON)({text:Ae(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function Oe(e){return e.type.startsWith("tool-")}function Ne(e){return"dynamic-tool"===e.type}function ze(e){return Oe(e)||Ne(e)}(0,a.createIdGenerator)({prefix:"aitxt",size:24});(0,a.createIdGenerator)({prefix:"aiobj",size:24});(0,a.createIdGenerator)({prefix:"aiobj",size:24});s.bD;((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})({},{object:()=>Pe,text:()=>Re});var Re=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:e})=>({partial:e}),parseOutput:async({text:e})=>e}),Pe=({schema:e})=>{const t=(0,a.asSchema)(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:e}){const t=await je(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{const e=t.state;throw new Error(`Unsupported parse state: ${e}`)}}},async parseOutput({text:e},n){const r=await(0,a.safeParseJSON)({text:e});if(!r.success)throw new R({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const s=await(0,a.safeValidateTypes)({value:r.value,schema:t});if(!s.success)throw new R({message:"No object generated: response did not match schema.",cause:s.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return s.value}}};var $e,Me="AI_NoSuchProviderError",Ze=`vercel.ai.error.${Me}`,Ye=Symbol.for(Ze);s.eM;$e=Ye;var De=i._H({name:i.Yj(),version:i.Yj()}),Le=i._H({_meta:i.lq(i.Ik({}).loose())}),Fe=Le,Ue=i.Ik({method:i.Yj(),params:i.lq(Le)}),Je=i._H({experimental:i.lq(i.Ik({}).loose()),logging:i.lq(i.Ik({}).loose()),prompts:i.lq(i._H({listChanged:i.lq(i.zM())})),resources:i.lq(i._H({subscribe:i.lq(i.zM()),listChanged:i.lq(i.zM())})),tools:i.lq(i._H({listChanged:i.lq(i.zM())}))}),Be=(Fe.extend({protocolVersion:i.Yj(),capabilities:Je,serverInfo:De,instructions:i.lq(i.Yj())}),Fe.extend({nextCursor:i.lq(i.Yj())})),Ve=i.Ik({name:i.Yj(),description:i.lq(i.Yj()),inputSchema:i.Ik({type:i.eu("object"),properties:i.lq(i.Ik({}).loose())}).loose()}).loose(),We=(Be.extend({tools:i.YO(Ve)}),i.Ik({type:i.eu("text"),text:i.Yj()}).loose()),qe=i.Ik({type:i.eu("image"),data:i.K3(),mimeType:i.Yj()}).loose(),Ke=i.Ik({uri:i.Yj(),mimeType:i.lq(i.Yj())}).loose(),Ge=Ke.extend({text:i.Yj()}),He=Ke.extend({blob:i.K3()}),Qe=i.Ik({type:i.eu("resource"),resource:i.KC([Ge,He])}).loose(),Xe=(Fe.extend({content:i.YO(i.KC([We,qe,Qe])),isError:i.zM().default(!1).optional()}).or(Fe.extend({toolResult:i.L5()})),"2.0"),et=i.Ik({jsonrpc:i.eu(Xe),id:i.KC([i.Yj(),i.ai().int()])}).merge(Ue).strict(),tt=i.Ik({jsonrpc:i.eu(Xe),id:i.KC([i.Yj(),i.ai().int()]),result:Fe}).strict(),nt=i.Ik({jsonrpc:i.eu(Xe),id:i.KC([i.Yj(),i.ai().int()]),error:i.Ik({code:i.ai().int(),message:i.Yj(),data:i.lq(i.L5())})}).strict(),rt=i.Ik({jsonrpc:i.eu(Xe)}).merge(i.Ik({method:i.Yj(),params:i.lq(Le)})).strict();i.KC([et,rt,tt,nt]);s.bD;var at=class{constructor({api:e="/api/chat",credentials:t,headers:n,body:r,fetch:a,prepareSendMessagesRequest:s,prepareReconnectToStreamRequest:i}){this.api=e,this.credentials=t,this.headers=n,this.body=r,this.fetch=a,this.prepareSendMessagesRequest=s,this.prepareReconnectToStreamRequest=i}async sendMessages({abortSignal:e,...t}){var n,r,s,i,o;const u=await(0,a.resolve)(this.body),c=await(0,a.resolve)(this.headers),l=await(0,a.resolve)(this.credentials),d=await(null==(n=this.prepareSendMessagesRequest)?void 0:n.call(this,{api:this.api,id:t.chatId,messages:t.messages,body:{...u,...t.body},headers:{...c,...t.headers},credentials:l,requestMetadata:t.metadata,trigger:t.trigger,messageId:t.messageId})),p=null!=(r=null==d?void 0:d.api)?r:this.api,h=void 0!==(null==d?void 0:d.headers)?d.headers:{...c,...t.headers},f=void 0!==(null==d?void 0:d.body)?d.body:{...u,...t.body,id:t.chatId,messages:t.messages,trigger:t.trigger,messageId:t.messageId},m=null!=(s=null==d?void 0:d.credentials)?s:l,v=null!=(i=this.fetch)?i:globalThis.fetch,y=await v(p,{method:"POST",headers:(0,a.withUserAgentSuffix)({"Content-Type":"application/json",...h},`ai-sdk/${he}`,(0,a.getRuntimeEnvironmentUserAgent)()),body:JSON.stringify(f),credentials:m,signal:e});if(!y.ok)throw new Error(null!=(o=await y.text())?o:"Failed to fetch the chat response.");if(!y.body)throw new Error("The response body is empty.");return this.processResponseStream(y.body)}async reconnectToStream(e){var t,n,r,s,i;const o=await(0,a.resolve)(this.body),u=await(0,a.resolve)(this.headers),c=await(0,a.resolve)(this.credentials),l=await(null==(t=this.prepareReconnectToStreamRequest)?void 0:t.call(this,{api:this.api,id:e.chatId,body:{...o,...e.body},headers:{...u,...e.headers},credentials:c,requestMetadata:e.metadata})),d=null!=(n=null==l?void 0:l.api)?n:`${this.api}/${e.chatId}/stream`,p=void 0!==(null==l?void 0:l.headers)?l.headers:{...u,...e.headers},h=null!=(r=null==l?void 0:l.credentials)?r:c,f=null!=(s=this.fetch)?s:globalThis.fetch,m=await f(d,{method:"GET",headers:(0,a.withUserAgentSuffix)(p,`ai-sdk/${he}`,(0,a.getRuntimeEnvironmentUserAgent)()),credentials:h});if(204===m.status)return null;if(!m.ok)throw new Error(null!=(i=await m.text())?i:"Failed to fetch the chat response.");if(!m.body)throw new Error("The response body is empty.");return this.processResponseStream(m.body)}},st=class extends at{constructor(e={}){super(e)}processResponseStream(e){return(0,a.parseJsonEventStream)({stream:e,schema:Ce}).pipeThrough(new TransformStream({async transform(e,t){if(!e.success)throw e.error;t.enqueue(e.value)}}))}};function it({messages:e}){const t=e[e.length-1];if(!t)return!1;if("assistant"!==t.role)return!1;const n=t.parts.reduce(((e,t,n)=>"step-start"===t.type?n:e),-1),r=t.parts.slice(n+1).filter(ze);return r.length>0&&r.every((e=>"output-available"===e.state))}var ot=i.Ik({type:i.eu("text"),text:i.Yj(),state:i.k5(["streaming","done"]).optional(),providerMetadata:ve.optional()}),ut=i.Ik({type:i.eu("reasoning"),text:i.Yj(),state:i.k5(["streaming","done"]).optional(),providerMetadata:ve.optional()}),ct=i.Ik({type:i.eu("source-url"),sourceId:i.Yj(),url:i.Yj(),title:i.Yj().optional(),providerMetadata:ve.optional()}),lt=i.Ik({type:i.eu("source-document"),sourceId:i.Yj(),mediaType:i.Yj(),title:i.Yj(),filename:i.Yj().optional(),providerMetadata:ve.optional()}),dt=i.Ik({type:i.eu("file"),mediaType:i.Yj(),filename:i.Yj().optional(),url:i.Yj(),providerMetadata:ve.optional()}),pt=i.Ik({type:i.eu("step-start")}),ht=i.Ik({type:i.Yj().startsWith("data-"),id:i.Yj().optional(),data:i.L5()}),ft=[i.Ik({type:i.eu("dynamic-tool"),toolName:i.Yj(),toolCallId:i.Yj(),state:i.eu("input-streaming"),input:i.L5().optional(),output:i.Zm().optional(),errorText:i.Zm().optional()}),i.Ik({type:i.eu("dynamic-tool"),toolName:i.Yj(),toolCallId:i.Yj(),state:i.eu("input-available"),input:i.L5(),output:i.Zm().optional(),errorText:i.Zm().optional(),callProviderMetadata:ve.optional()}),i.Ik({type:i.eu("dynamic-tool"),toolName:i.Yj(),toolCallId:i.Yj(),state:i.eu("output-available"),input:i.L5(),output:i.L5(),errorText:i.Zm().optional(),callProviderMetadata:ve.optional(),preliminary:i.zM().optional()}),i.Ik({type:i.eu("dynamic-tool"),toolName:i.Yj(),toolCallId:i.Yj(),state:i.eu("output-error"),input:i.L5(),output:i.Zm().optional(),errorText:i.Yj(),callProviderMetadata:ve.optional()})],mt=[i.Ik({type:i.Yj().startsWith("tool-"),toolCallId:i.Yj(),state:i.eu("input-streaming"),providerExecuted:i.zM().optional(),input:i.L5().optional(),output:i.Zm().optional(),errorText:i.Zm().optional()}),i.Ik({type:i.Yj().startsWith("tool-"),toolCallId:i.Yj(),state:i.eu("input-available"),providerExecuted:i.zM().optional(),input:i.L5(),output:i.Zm().optional(),errorText:i.Zm().optional(),callProviderMetadata:ve.optional()}),i.Ik({type:i.Yj().startsWith("tool-"),toolCallId:i.Yj(),state:i.eu("output-available"),providerExecuted:i.zM().optional(),input:i.L5(),output:i.L5(),errorText:i.Zm().optional(),callProviderMetadata:ve.optional(),preliminary:i.zM().optional()}),i.Ik({type:i.Yj().startsWith("tool-"),toolCallId:i.Yj(),state:i.eu("output-error"),providerExecuted:i.zM().optional(),input:i.L5(),output:i.Zm().optional(),errorText:i.Yj(),callProviderMetadata:ve.optional()})];i.Ik({id:i.Yj(),role:i.k5(["system","user","assistant"]),metadata:i.L5().optional(),parts:i.YO(i.KC([ot,ut,ct,lt,dt,pt,ht,...ft,...mt]))})},40200:(e,t,n)=>{"use strict";var r=n(71761),a={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,s,i,o,u,c,l=!1;t||(t={}),n=t.debug||!1;try{if(i=r(),o=document.createRange(),u=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=a[t.format]||a.default;window.clipboardData.setData(s,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),o.selectNodeContents(c),u.addRange(o),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");l=!0}catch(r){n&&console.error("unable to copy using execCommand: ",r),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(r){n&&console.error("unable to copy using clipboardData: ",r),n&&console.error("falling back to prompt"),s=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,e)}}finally{u&&("function"==typeof u.removeRange?u.removeRange(o):u.removeAllRanges()),c&&document.body.removeChild(c),i()}return l}},3514:(e,t,n)=>{var r=n(195),a=n(28486),s=n(3283),i=n(53142),o=n(36529),u=n(75853),c=n(84882),l=n(8666),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(o(e)&&(i(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||s(e)))return!e.length;var t=a(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},55857:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>v});var r=n(73033),a=n(47222),s=n(14041),i=n(43144);const o=!1,u=s.createContext(null);var c="unmounted",l="exited",d="entering",p="entered",h="exiting",f=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(a=l,r.appearStatus=d):a=p:a=t.unmountOnExit||t.mountOnEnter?c:l,r.state={status:a},r.nextCallback=null,r}(0,a.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:l}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==p&&(t=d):n!==d&&n!==p||(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],s=a[0],u=a[1],c=this.getTimeouts(),l=r?c.appear:c.enter;!e&&!n||o?this.safeSetState({status:p},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,u),this.safeSetState({status:d},(function(){t.props.onEntering(s,u),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(s,u)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!o?(this.props.onExit(r),this.safeSetState({status:h},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:l},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:l},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=a[0],o=a[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(u.Provider,{value:null},"function"==typeof n?n(e,a):s.cloneElement(s.Children.only(n),a))},t}(s.Component);function m(){}f.contextType=u,f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},f.UNMOUNTED=c,f.EXITED=l,f.ENTERING=d,f.ENTERED=p,f.EXITING=h;const v=f},47971:e=>{e.exports=function(e,t){if("function"!=typeof e)throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n,r=0;return function(...a){clearTimeout(n);const s=Date.now(),i=t-(s-r);i<=0?(r=s,e.apply(this,a)):n=setTimeout((()=>{r=Date.now(),e.apply(this,a)}),i)}}},71761:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},75330:(e,t,n)=>{"use strict";n.d(t,{qg:()=>u,EJ:()=>c,xL:()=>l,bp:()=>d});var r=n(74935),a=n(27989),s=n(51117);const i=(e,t)=>{a.a$.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>a.Wk(e,t)},flatten:{value:t=>a.JM(e,t)},addIssue:{value:t=>e.issues.push(t)},addIssues:{value:t=>e.issues.push(...t)},isEmpty:{get:()=>0===e.issues.length}})},o=(s.xI("ZodError",i),s.xI("ZodError",i,{Parent:Error})),u=r.Tj(o),c=r.Rb(o),l=r.Od(o),d=r.wG(o)},38891:(e,t,n)=>{"use strict";n.d(t,{EB:()=>Nt,YO:()=>hn,K3:()=>Kt,zM:()=>an,Ie:()=>Bn,gM:()=>kn,k5:()=>Sn,Nl:()=>Vn,RZ:()=>Un,eu:()=>Cn,_H:()=>yn,Zm:()=>dn,ch:()=>on,ai:()=>en,Ik:()=>mn,lq:()=>Nn,g1:()=>wn,re:()=>vn,Yj:()=>Ot,KC:()=>_n,L5:()=>cn});var r=n(51117);const a=/^[cC][^\s-]{8,}$/,s=/^[0-9a-z]+$/,i=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,o=/^[0-9a-vA-V]{20}$/,u=/^[A-Za-z0-9]{27}$/,c=/^[a-zA-Z0-9_-]{21}$/,l=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,d=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,p=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,h=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const f=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,m=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,v=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,y=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,g=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_=/^[A-Za-z0-9_-]*$/,b=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,k=/^\+(?:[0-9]){6,14}[0-9]$/,x="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",I=new RegExp(`^${x}$`);function w(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const E=/^\d+$/,S=/^-?\d+(?:\.\d+)?/i,T=/true|false/i,C=/null/i,A=/^[^A-Z]*$/,j=/^[^a-z]*$/;var O=n(19606);const N=r.xI("$ZodCheck",((e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])})),z={number:"number",bigint:"bigint",object:"date"},R=r.xI("$ZodCheckLessThan",((e,t)=>{N.init(e,t);const n=z[typeof t.value];e._zod.onattach.push((e=>{const n=e._zod.bag,r=(t.inclusive?n.maximum:n.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?n.maximum=t.value:n.exclusiveMaximum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),P=r.xI("$ZodCheckGreaterThan",((e,t)=>{N.init(e,t);const n=z[typeof t.value];e._zod.onattach.push((e=>{const n=e._zod.bag,r=(t.inclusive?n.minimum:n.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?n.minimum=t.value:n.exclusiveMinimum=t.value)})),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}})),$=r.xI("$ZodCheckMultipleOf",((e,t)=>{N.init(e,t),e._zod.onattach.push((e=>{var n;(n=e._zod.bag).multipleOf??(n.multipleOf=t.value)})),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===O.LG(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}})),M=r.xI("$ZodCheckNumberFormat",((e,t)=>{N.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[a,s]=O.zH[t.format];e._zod.onattach.push((e=>{const r=e._zod.bag;r.format=t.format,r.minimum=a,r.maximum=s,n&&(r.pattern=E)})),e._zod.check=i=>{const o=i.value;if(n){if(!Number.isInteger(o))return void i.issues.push({expected:r,format:t.format,code:"invalid_type",input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?i.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):i.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}))}o<a&&i.issues.push({origin:"number",input:o,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),o>s&&i.issues.push({origin:"number",input:o,code:"too_big",maximum:s,inst:e})}})),Z=r.xI("$ZodCheckMaxLength",((e,t)=>{var n;N.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!O.cl(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<n&&(e._zod.bag.maximum=t.maximum)})),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const a=O.Rc(r);n.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),Y=r.xI("$ZodCheckMinLength",((e,t)=>{var n;N.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!O.cl(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>n&&(e._zod.bag.minimum=t.minimum)})),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const a=O.Rc(r);n.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}})),D=r.xI("$ZodCheckLengthEquals",((e,t)=>{var n;N.init(e,t),(n=e._zod.def).when??(n.when=e=>{const t=e.value;return!O.cl(t)&&void 0!==t.length}),e._zod.onattach.push((e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length})),e._zod.check=n=>{const r=n.value,a=r.length;if(a===t.length)return;const s=O.Rc(r),i=a>t.length;n.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}})),L=r.xI("$ZodCheckStringFormat",((e,t)=>{var n,r;N.init(e,t),e._zod.onattach.push((e=>{const n=e._zod.bag;n.format=t.format,t.pattern&&(n.patterns??(n.patterns=new Set),n.patterns.add(t.pattern))})),t.pattern?(n=e._zod).check??(n.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:t.format,input:n.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})})),F=r.xI("$ZodCheckRegex",((e,t)=>{L.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,t.pattern.test(n.value)||n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}})),U=r.xI("$ZodCheckLowerCase",((e,t)=>{t.pattern??(t.pattern=A),L.init(e,t)})),J=r.xI("$ZodCheckUpperCase",((e,t)=>{t.pattern??(t.pattern=j),L.init(e,t)})),B=r.xI("$ZodCheckIncludes",((e,t)=>{N.init(e,t);const n=O.$f(t.includes),r=new RegExp("number"==typeof t.position?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push((e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)})),e._zod.check=n=>{n.value.includes(t.includes,t.position)||n.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:n.value,inst:e,continue:!t.abort})}})),V=r.xI("$ZodCheckStartsWith",((e,t)=>{N.init(e,t);const n=new RegExp(`^${O.$f(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push((e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)})),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}})),W=r.xI("$ZodCheckEndsWith",((e,t)=>{N.init(e,t);const n=new RegExp(`.*${O.$f(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push((e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(n)})),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}));const q=r.xI("$ZodCheckOverwrite",((e,t)=>{N.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}}));class K{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter((e=>e)),n=Math.min(...t.map((e=>e.length-e.trimStart().length))),r=t.map((e=>e.slice(n))).map((e=>" ".repeat(2*this.indent)+e));for(const e of r)this.content.push(e)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map((e=>`  ${e}`))].join("\n"))}}var G=n(74935);const H={major:4,minor:0,patch:0},Q=r.xI("$ZodType",((e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=H;const a=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&a.unshift(e);for(const t of a)for(const n of t._zod.onattach)n(e);if(0===a.length)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push((()=>{e._zod.run=e._zod.parse}));else{const t=(e,t,n)=>{let a,s=O.QH(e);for(const i of t){if(i._zod.def.when){if(!i._zod.def.when(e))continue}else if(s)continue;const t=e.issues.length,o=i._zod.check(e);if(o instanceof Promise&&!1===n?.async)throw new r.GT;if(a||o instanceof Promise)a=(a??Promise.resolve()).then((async()=>{await o;e.issues.length!==t&&(s||(s=O.QH(e,t)))}));else{if(e.issues.length===t)continue;s||(s=O.QH(e,t))}}return a?a.then((()=>e)):e};e._zod.run=(n,s)=>{const i=e._zod.parse(n,s);if(i instanceof Promise){if(!1===s.async)throw new r.GT;return i.then((e=>t(e,a,s)))}return t(i,a,s)}}e["~standard"]={validate:t=>{try{const n=(0,G.xL)(e,t);return n.success?{value:n.data}:{issues:n.error?.issues}}catch(n){return(0,G.bp)(e,t).then((e=>e.success?{value:e.data}:{issues:e.error?.issues}))}},vendor:"zod",version:1}})),X=r.xI("$ZodString",((e,t)=>{var n;Q.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(n=e._zod.bag,new RegExp(`^${n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*"}$`)),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch(r){}return"string"==typeof n.value||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}})),ee=r.xI("$ZodStringFormat",((e,t)=>{L.init(e,t),X.init(e,t)})),te=r.xI("$ZodGUID",((e,t)=>{t.pattern??(t.pattern=d),ee.init(e,t)})),ne=r.xI("$ZodUUID",((e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=p(e))}else t.pattern??(t.pattern=p());ee.init(e,t)})),re=r.xI("$ZodEmail",((e,t)=>{t.pattern??(t.pattern=h),ee.init(e,t)})),ae=r.xI("$ZodURL",((e,t)=>{ee.init(e,t),e._zod.check=n=>{try{const r=n.value,a=new URL(r),s=a.href;return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:b.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),void(!r.endsWith("/")&&s.endsWith("/")?n.value=s.slice(0,-1):n.value=s)}catch(r){n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}})),se=r.xI("$ZodEmoji",((e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ee.init(e,t)})),ie=r.xI("$ZodNanoID",((e,t)=>{t.pattern??(t.pattern=c),ee.init(e,t)})),oe=r.xI("$ZodCUID",((e,t)=>{t.pattern??(t.pattern=a),ee.init(e,t)})),ue=r.xI("$ZodCUID2",((e,t)=>{t.pattern??(t.pattern=s),ee.init(e,t)})),ce=r.xI("$ZodULID",((e,t)=>{t.pattern??(t.pattern=i),ee.init(e,t)})),le=r.xI("$ZodXID",((e,t)=>{t.pattern??(t.pattern=o),ee.init(e,t)})),de=r.xI("$ZodKSUID",((e,t)=>{t.pattern??(t.pattern=u),ee.init(e,t)})),pe=r.xI("$ZodISODateTime",((e,t)=>{t.pattern??(t.pattern=function(e){const t=w({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${x}T(?:${r})$`)}(t)),ee.init(e,t)})),he=r.xI("$ZodISODate",((e,t)=>{t.pattern??(t.pattern=I),ee.init(e,t)})),fe=r.xI("$ZodISOTime",((e,t)=>{t.pattern??(t.pattern=new RegExp(`^${w(t)}$`)),ee.init(e,t)})),me=r.xI("$ZodISODuration",((e,t)=>{t.pattern??(t.pattern=l),ee.init(e,t)})),ve=r.xI("$ZodIPv4",((e,t)=>{t.pattern??(t.pattern=f),ee.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv4"}))})),ye=r.xI("$ZodIPv6",((e,t)=>{t.pattern??(t.pattern=m),ee.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.format="ipv6"})),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}})),ge=r.xI("$ZodCIDRv4",((e,t)=>{t.pattern??(t.pattern=v),ee.init(e,t)})),_e=r.xI("$ZodCIDRv6",((e,t)=>{t.pattern??(t.pattern=y),ee.init(e,t),e._zod.check=n=>{const[r,a]=n.value.split("/");try{if(!a)throw new Error;const e=Number(a);if(`${e}`!==a)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}}));function be(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const ke=r.xI("$ZodBase64",((e,t)=>{t.pattern??(t.pattern=g),ee.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64"})),e._zod.check=n=>{be(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}}));const xe=r.xI("$ZodBase64URL",((e,t)=>{t.pattern??(t.pattern=_),ee.init(e,t),e._zod.onattach.push((e=>{e._zod.bag.contentEncoding="base64url"})),e._zod.check=n=>{(function(e){if(!_.test(e))return!1;const t=e.replace(/[-_]/g,(e=>"-"===e?"+":"/"));return be(t.padEnd(4*Math.ceil(t.length/4),"="))})(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}})),Ie=r.xI("$ZodE164",((e,t)=>{t.pattern??(t.pattern=k),ee.init(e,t)}));const we=r.xI("$ZodJWT",((e,t)=>{ee.init(e,t),e._zod.check=n=>{(function(e,t=null){try{const n=e.split(".");if(3!==n.length)return!1;const[r]=n;if(!r)return!1;const a=JSON.parse(atob(r));return!("typ"in a&&"JWT"!==a?.typ||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}})(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}})),Ee=r.xI("$ZodNumber",((e,t)=>{Q.init(e,t),e._zod.pattern=e._zod.bag.pattern??S,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(e){}const a=n.value;if("number"==typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return n;const s="number"==typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),n}})),Se=r.xI("$ZodNumber",((e,t)=>{M.init(e,t),Ee.init(e,t)})),Te=r.xI("$ZodBoolean",((e,t)=>{Q.init(e,t),e._zod.pattern=T,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Boolean(n.value)}catch(e){}const a=n.value;return"boolean"==typeof a||n.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),n}})),Ce=r.xI("$ZodNull",((e,t)=>{Q.init(e,t),e._zod.pattern=C,e._zod.values=new Set([null]),e._zod.parse=(t,n)=>{const r=t.value;return null===r||t.issues.push({expected:"null",code:"invalid_type",input:r,inst:e}),t}})),Ae=r.xI("$ZodUnknown",((e,t)=>{Q.init(e,t),e._zod.parse=e=>e})),je=r.xI("$ZodNever",((e,t)=>{Q.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)}));function Oe(e,t,n){e.issues.length&&t.issues.push(...O.lQ(n,e.issues)),t.value[n]=e.value}const Ne=r.xI("$ZodArray",((e,t)=>{Q.init(e,t),e._zod.parse=(n,r)=>{const a=n.value;if(!Array.isArray(a))return n.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),n;n.value=Array(a.length);const s=[];for(let e=0;e<a.length;e++){const i=a[e],o=t.element._zod.run({value:i,issues:[]},r);o instanceof Promise?s.push(o.then((t=>Oe(t,n,e)))):Oe(o,n,e)}return s.length?Promise.all(s).then((()=>n)):n}}));function ze(e,t,n){e.issues.length&&t.issues.push(...O.lQ(n,e.issues)),t.value[n]=e.value}function Re(e,t,n,r){e.issues.length?void 0===r[n]?t.value[n]=n in r?void 0:e.value:t.issues.push(...O.lQ(n,e.issues)):void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Pe=r.xI("$ZodObject",((e,t)=>{Q.init(e,t);const n=O.PO((()=>{const e=Object.keys(t.shape);for(const n of e)if(!(t.shape[n]instanceof Q))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const n=O.NM(t.shape);return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}));O.gJ(e._zod,"propValues",(()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){n[t]??(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n}));let a;const s=O.Gv,i=!r.cr.jitless,o=O.hI,u=i&&o.value,c=t.catchall;let l;e._zod.parse=(r,o)=>{l??(l=n.value);const d=r.value;if(!s(d))return r.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),r;const p=[];if(i&&u&&!1===o?.async&&!0!==o.jitless)a||(a=(e=>{const t=new K(["shape","payload","ctx"]),r=n.value,a=e=>{const t=O.UQ(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const s=Object.create(null);let i=0;for(const e of r.keys)s[e]="key_"+i++;t.write("const newResult = {}");for(const e of r.keys)if(r.optionalKeys.has(e)){const n=s[e];t.write(`const ${n} = ${a(e)};`);const r=O.UQ(e);t.write(`\n        if (${n}.issues.length) {\n          if (input[${r}] === undefined) {\n            if (${r} in input) {\n              newResult[${r}] = undefined;\n            }\n          } else {\n            payload.issues = payload.issues.concat(\n              ${n}.issues.map((iss) => ({\n                ...iss,\n                path: iss.path ? [${r}, ...iss.path] : [${r}],\n              }))\n            );\n          }\n        } else if (${n}.value === undefined) {\n          if (${r} in input) newResult[${r}] = undefined;\n        } else {\n          newResult[${r}] = ${n}.value;\n        }\n        `)}else{const n=s[e];t.write(`const ${n} = ${a(e)};`),t.write(`\n          if (${n}.issues.length) payload.issues = payload.issues.concat(${n}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${O.UQ(e)}, ...iss.path] : [${O.UQ(e)}]\n          })));`),t.write(`newResult[${O.UQ(e)}] = ${n}.value`)}t.write("payload.value = newResult;"),t.write("return payload;");const o=t.compile();return(t,n)=>o(e,t,n)})(t.shape)),r=a(r,o);else{r.value={};const e=l.shape;for(const t of l.keys){const n=e[t],a=n._zod.run({value:d[t],issues:[]},o),s="optional"===n._zod.optin&&"optional"===n._zod.optout;a instanceof Promise?p.push(a.then((e=>s?Re(e,r,t,d):ze(e,r,t)))):s?Re(a,r,t,d):ze(a,r,t)}}if(!c)return p.length?Promise.all(p).then((()=>r)):r;const h=[],f=l.keySet,m=c._zod,v=m.def.type;for(const e of Object.keys(d)){if(f.has(e))continue;if("never"===v){h.push(e);continue}const t=m.run({value:d[e],issues:[]},o);t instanceof Promise?p.push(t.then((t=>ze(t,r,e)))):ze(t,r,e)}return h.length&&r.issues.push({code:"unrecognized_keys",keys:h,input:d,inst:e}),p.length?Promise.all(p).then((()=>r)):r}}));function $e(e,t,n,a){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map((e=>e.issues.map((e=>O.iR(e,a,r.$W())))))}),t}const Me=r.xI("$ZodUnion",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"optin",(()=>t.options.some((e=>"optional"===e._zod.optin))?"optional":void 0)),O.gJ(e._zod,"optout",(()=>t.options.some((e=>"optional"===e._zod.optout))?"optional":void 0)),O.gJ(e._zod,"values",(()=>{if(t.options.every((e=>e._zod.values)))return new Set(t.options.flatMap((e=>Array.from(e._zod.values))))})),O.gJ(e._zod,"pattern",(()=>{if(t.options.every((e=>e._zod.pattern))){const e=t.options.map((e=>e._zod.pattern));return new RegExp(`^(${e.map((e=>O.p6(e.source))).join("|")})$`)}})),e._zod.parse=(n,r)=>{let a=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:n.value,issues:[]},r);if(t instanceof Promise)s.push(t),a=!0;else{if(0===t.issues.length)return t;s.push(t)}}return a?Promise.all(s).then((t=>$e(t,n,e,r))):$e(s,n,e,r)}})),Ze=r.xI("$ZodDiscriminatedUnion",((e,t)=>{Me.init(e,t);const n=e._zod.parse;O.gJ(e._zod,"propValues",(()=>{const e={};for(const n of t.options){const r=n._zod.propValues;if(!r||0===Object.keys(r).length)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(n)}"`);for(const[t,n]of Object.entries(r)){e[t]||(e[t]=new Set);for(const r of n)e[t].add(r)}}return e}));const r=O.PO((()=>{const e=t.options,n=new Map;for(const r of e){const e=r._zod.propValues[t.discriminator];if(!e||0===e.size)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(r)}"`);for(const t of e){if(n.has(t))throw new Error(`Duplicate discriminator value "${String(t)}"`);n.set(t,r)}}return n}));e._zod.parse=(a,s)=>{const i=a.value;if(!O.Gv(i))return a.issues.push({code:"invalid_type",expected:"object",input:i,inst:e}),a;const o=r.value.get(i?.[t.discriminator]);return o?o._zod.run(a,s):t.unionFallback?n(a,s):(a.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:i,path:[t.discriminator],inst:e}),a)}})),Ye=r.xI("$ZodIntersection",((e,t)=>{Q.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,a=t.left._zod.run({value:r,issues:[]},n),s=t.right._zod.run({value:r,issues:[]},n);return a instanceof Promise||s instanceof Promise?Promise.all([a,s]).then((([t,n])=>Le(e,t,n))):Le(e,a,s)}}));function De(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(O.Qd(e)&&O.Qd(t)){const n=Object.keys(t),r=Object.keys(e).filter((e=>-1!==n.indexOf(e))),a={...e,...t};for(const n of r){const r=De(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};a[n]=r.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const a=De(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Le(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),O.QH(e))return e;const r=De(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Fe=r.xI("$ZodRecord",((e,t)=>{Q.init(e,t),e._zod.parse=(n,a)=>{const s=n.value;if(!O.Qd(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const i=[];if(t.keyType._zod.values){const r=t.keyType._zod.values;n.value={};for(const e of r)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){const r=t.valueType._zod.run({value:s[e],issues:[]},a);r instanceof Promise?i.push(r.then((t=>{t.issues.length&&n.issues.push(...O.lQ(e,t.issues)),n.value[e]=t.value}))):(r.issues.length&&n.issues.push(...O.lQ(e,r.issues)),n.value[e]=r.value)}let o;for(const e in s)r.has(e)||(o=o??[],o.push(e));o&&o.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:o})}else{n.value={};for(const o of Reflect.ownKeys(s)){if("__proto__"===o)continue;const u=t.keyType._zod.run({value:o,issues:[]},a);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:u.issues.map((e=>O.iR(e,a,r.$W()))),input:o,path:[o],inst:e}),n.value[u.value]=u.value;continue}const c=t.valueType._zod.run({value:s[o],issues:[]},a);c instanceof Promise?i.push(c.then((e=>{e.issues.length&&n.issues.push(...O.lQ(o,e.issues)),n.value[u.value]=e.value}))):(c.issues.length&&n.issues.push(...O.lQ(o,c.issues)),n.value[u.value]=c.value)}}return i.length?Promise.all(i).then((()=>n)):n}}));const Ue=r.xI("$ZodEnum",((e,t)=>{Q.init(e,t);const n=O.w5(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter((e=>O.qQ.has(typeof e))).map((e=>"string"==typeof e?O.$f(e):e.toString())).join("|")})$`),e._zod.parse=(t,r)=>{const a=t.value;return e._zod.values.has(a)||t.issues.push({code:"invalid_value",values:n,input:a,inst:e}),t}})),Je=r.xI("$ZodLiteral",((e,t)=>{Q.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map((e=>"string"==typeof e?O.$f(e):e?e.toString():String(e))).join("|")})$`),e._zod.parse=(n,r)=>{const a=n.value;return e._zod.values.has(a)||n.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),n}})),Be=r.xI("$ZodTransform",((e,t)=>{Q.init(e,t),e._zod.parse=(e,n)=>{const a=t.transform(e.value,e);if(n.async){return(a instanceof Promise?a:Promise.resolve(a)).then((t=>(e.value=t,e)))}if(a instanceof Promise)throw new r.GT;return e.value=a,e}})),Ve=r.xI("$ZodOptional",((e,t)=>{Q.init(e,t),e._zod.optin="optional",e._zod.optout="optional",O.gJ(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0)),O.gJ(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${O.p6(e.source)})?$`):void 0})),e._zod.parse=(e,n)=>"optional"===t.innerType._zod.optin?t.innerType._zod.run(e,n):void 0===e.value?e:t.innerType._zod.run(e,n)})),We=r.xI("$ZodNullable",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"optin",(()=>t.innerType._zod.optin)),O.gJ(e._zod,"optout",(()=>t.innerType._zod.optout)),O.gJ(e._zod,"pattern",(()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${O.p6(e.source)}|null)$`):void 0})),O.gJ(e._zod,"values",(()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0)),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)})),qe=r.xI("$ZodDefault",((e,t)=>{Q.init(e,t),e._zod.optin="optional",O.gJ(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then((e=>Ke(e,t))):Ke(r,t)}}));function Ke(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Ge=r.xI("$ZodPrefault",((e,t)=>{Q.init(e,t),e._zod.optin="optional",O.gJ(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))})),He=r.xI("$ZodNonOptional",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"values",(()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter((e=>void 0!==e))):void 0})),e._zod.parse=(n,r)=>{const a=t.innerType._zod.run(n,r);return a instanceof Promise?a.then((t=>Qe(t,e))):Qe(a,e)}}));function Qe(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Xe=r.xI("$ZodCatch",((e,t)=>{Q.init(e,t),e._zod.optin="optional",O.gJ(e._zod,"optout",(()=>t.innerType._zod.optout)),O.gJ(e._zod,"values",(()=>t.innerType._zod.values)),e._zod.parse=(e,n)=>{const a=t.innerType._zod.run(e,n);return a instanceof Promise?a.then((a=>(e.value=a.value,a.issues.length&&(e.value=t.catchValue({...e,error:{issues:a.issues.map((e=>O.iR(e,n,r.$W())))},input:e.value}),e.issues=[]),e))):(e.value=a.value,a.issues.length&&(e.value=t.catchValue({...e,error:{issues:a.issues.map((e=>O.iR(e,n,r.$W())))},input:e.value}),e.issues=[]),e)}})),et=r.xI("$ZodPipe",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"values",(()=>t.in._zod.values)),O.gJ(e._zod,"optin",(()=>t.in._zod.optin)),O.gJ(e._zod,"optout",(()=>t.out._zod.optout)),e._zod.parse=(e,n)=>{const r=t.in._zod.run(e,n);return r instanceof Promise?r.then((e=>tt(e,t,n))):tt(r,t,n)}}));function tt(e,t,n){return O.QH(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const nt=r.xI("$ZodReadonly",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"propValues",(()=>t.innerType._zod.propValues)),O.gJ(e._zod,"values",(()=>t.innerType._zod.values)),O.gJ(e._zod,"optin",(()=>t.innerType._zod.optin)),O.gJ(e._zod,"optout",(()=>t.innerType._zod.optout)),e._zod.parse=(e,n)=>{const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(rt):rt(r)}}));function rt(e){return e.value=Object.freeze(e.value),e}const at=r.xI("$ZodLazy",((e,t)=>{Q.init(e,t),O.gJ(e._zod,"innerType",(()=>t.getter())),O.gJ(e._zod,"pattern",(()=>e._zod.innerType._zod.pattern)),O.gJ(e._zod,"propValues",(()=>e._zod.innerType._zod.propValues)),O.gJ(e._zod,"optin",(()=>e._zod.innerType._zod.optin)),O.gJ(e._zod,"optout",(()=>e._zod.innerType._zod.optout)),e._zod.parse=(t,n)=>e._zod.innerType._zod.run(t,n)})),st=r.xI("$ZodCustom",((e,t)=>{N.init(e,t),Q.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,a=t.fn(r);if(a instanceof Promise)return a.then((t=>it(t,n,r,e)));it(a,n,r,e)}}));function it(e,t,n,r){if(!e){const e={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push(O.sn(e))}}var ot=n(43861);function ut(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...O.A2(t)})}function ct(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...O.A2(t)})}function lt(e,t){return new R({check:"less_than",...O.A2(t),value:e,inclusive:!1})}function dt(e,t){return new R({check:"less_than",...O.A2(t),value:e,inclusive:!0})}function pt(e,t){return new P({check:"greater_than",...O.A2(t),value:e,inclusive:!1})}function ht(e,t){return new P({check:"greater_than",...O.A2(t),value:e,inclusive:!0})}function ft(e,t){return new $({check:"multiple_of",...O.A2(t),value:e})}function mt(e,t){return new Z({check:"max_length",...O.A2(t),maximum:e})}function vt(e,t){return new Y({check:"min_length",...O.A2(t),minimum:e})}function yt(e,t){return new D({check:"length_equals",...O.A2(t),length:e})}function gt(e){return new q({check:"overwrite",tx:e})}const _t=r.xI("ZodISODateTime",((e,t)=>{pe.init(e,t),Nt.init(e,t)}));function bt(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...O.A2(t)})}(_t,e)}const kt=r.xI("ZodISODate",((e,t)=>{he.init(e,t),Nt.init(e,t)}));function xt(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...O.A2(t)})}(kt,e)}const It=r.xI("ZodISOTime",((e,t)=>{fe.init(e,t),Nt.init(e,t)}));function wt(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...O.A2(t)})}(It,e)}const Et=r.xI("ZodISODuration",((e,t)=>{me.init(e,t),Nt.init(e,t)}));function St(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...O.A2(t)})}(Et,e)}var Tt=n(75330);const Ct=r.xI("ZodType",((e,t)=>(Q.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map((e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e))]}),e.clone=(t,n)=>O.o8(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>Tt.qg(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Tt.xL(e,t,n),e.parseAsync=async(t,n)=>Tt.EJ(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Tt.bp(e,t,n),e.spa=e.safeParseAsync,e.refine=(t,n)=>e.check(function(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...O.A2(n)})}(Jn,e,t)}(t,n)),e.superRefine=t=>e.check(function(e){const t=function(e){const t=new N({check:"custom"});return t._zod.check=e,t}((n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push(O.sn(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(O.sn(r))}},e(n.value,n))));return t}(t)),e.overwrite=t=>e.check(gt(t)),e.optional=()=>Nn(e),e.nullable=()=>Rn(e),e.nullish=()=>Nn(Rn(e)),e.nonoptional=t=>function(e,t){return new Mn({type:"nonoptional",innerType:e,...O.A2(t)})}(e,t),e.array=()=>hn(e),e.or=t=>_n([e,t]),e.and=t=>new xn({type:"intersection",left:e,right:t}),e.transform=t=>Dn(e,jn(t)),e.default=t=>{return n=t,new Pn({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():n}});var n},e.prefault=t=>{return n=t,new $n({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():n}});var n},e.catch=t=>{return new Zn({type:"catch",innerType:e,catchValue:"function"==typeof(n=t)?n:()=>n});var n},e.pipe=t=>Dn(e,t),e.readonly=()=>new Ln({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return ot.fd.add(n,{description:t}),n},Object.defineProperty(e,"description",{get:()=>ot.fd.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return ot.fd.get(e);const n=e.clone();return ot.fd.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e))),At=r.xI("_ZodString",((e,t)=>{X.init(e,t),Ct.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new F({check:"string_format",format:"regex",...O.A2(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new B({check:"string_format",format:"includes",...O.A2(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new V({check:"string_format",format:"starts_with",...O.A2(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new W({check:"string_format",format:"ends_with",...O.A2(t),suffix:e})}(...t)),e.min=(...t)=>e.check(vt(...t)),e.max=(...t)=>e.check(mt(...t)),e.length=(...t)=>e.check(yt(...t)),e.nonempty=(...t)=>e.check(vt(1,...t)),e.lowercase=t=>e.check(function(e){return new U({check:"string_format",format:"lowercase",...O.A2(e)})}(t)),e.uppercase=t=>e.check(function(e){return new J({check:"string_format",format:"uppercase",...O.A2(e)})}(t)),e.trim=()=>e.check(gt((e=>e.trim()))),e.normalize=(...t)=>e.check(function(e){return gt((t=>t.normalize(e)))}(...t)),e.toLowerCase=()=>e.check(gt((e=>e.toLowerCase()))),e.toUpperCase=()=>e.check(gt((e=>e.toUpperCase())))})),jt=r.xI("ZodString",((e,t)=>{X.init(e,t),At.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...O.A2(t)})}(zt,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...O.A2(t)})}($t,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...O.A2(t)})}(Qt,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...O.A2(t)})}(Mt,t)),e.guid=t=>e.check(ut(Rt,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...O.A2(t)})}(Pt,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...O.A2(t)})}(Pt,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...O.A2(t)})}(Pt,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...O.A2(t)})}(Pt,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...O.A2(t)})}(Zt,t)),e.guid=t=>e.check(ut(Rt,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...O.A2(t)})}(Yt,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...O.A2(t)})}(Dt,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...O.A2(t)})}(Lt,t)),e.base64=t=>e.check(ct(qt,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...O.A2(t)})}(Gt,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...O.A2(t)})}(Ft,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...O.A2(t)})}(Ut,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...O.A2(t)})}(Jt,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...O.A2(t)})}(Bt,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...O.A2(t)})}(Vt,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...O.A2(t)})}(Wt,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...O.A2(t)})}(Ht,t)),e.datetime=t=>e.check(bt(t)),e.date=t=>e.check(xt(t)),e.time=t=>e.check(wt(t)),e.duration=t=>e.check(St(t))}));function Ot(e){return function(e,t){return new e({type:"string",...O.A2(t)})}(jt,e)}const Nt=r.xI("ZodStringFormat",((e,t)=>{ee.init(e,t),At.init(e,t)})),zt=r.xI("ZodEmail",((e,t)=>{re.init(e,t),Nt.init(e,t)}));const Rt=r.xI("ZodGUID",((e,t)=>{te.init(e,t),Nt.init(e,t)}));const Pt=r.xI("ZodUUID",((e,t)=>{ne.init(e,t),Nt.init(e,t)}));const $t=r.xI("ZodURL",((e,t)=>{ae.init(e,t),Nt.init(e,t)}));const Mt=r.xI("ZodEmoji",((e,t)=>{se.init(e,t),Nt.init(e,t)}));const Zt=r.xI("ZodNanoID",((e,t)=>{ie.init(e,t),Nt.init(e,t)}));const Yt=r.xI("ZodCUID",((e,t)=>{oe.init(e,t),Nt.init(e,t)}));const Dt=r.xI("ZodCUID2",((e,t)=>{ue.init(e,t),Nt.init(e,t)}));const Lt=r.xI("ZodULID",((e,t)=>{ce.init(e,t),Nt.init(e,t)}));const Ft=r.xI("ZodXID",((e,t)=>{le.init(e,t),Nt.init(e,t)}));const Ut=r.xI("ZodKSUID",((e,t)=>{de.init(e,t),Nt.init(e,t)}));const Jt=r.xI("ZodIPv4",((e,t)=>{ve.init(e,t),Nt.init(e,t)}));const Bt=r.xI("ZodIPv6",((e,t)=>{ye.init(e,t),Nt.init(e,t)}));const Vt=r.xI("ZodCIDRv4",((e,t)=>{ge.init(e,t),Nt.init(e,t)}));const Wt=r.xI("ZodCIDRv6",((e,t)=>{_e.init(e,t),Nt.init(e,t)}));const qt=r.xI("ZodBase64",((e,t)=>{ke.init(e,t),Nt.init(e,t)}));function Kt(e){return ct(qt,e)}const Gt=r.xI("ZodBase64URL",((e,t)=>{xe.init(e,t),Nt.init(e,t)}));const Ht=r.xI("ZodE164",((e,t)=>{Ie.init(e,t),Nt.init(e,t)}));const Qt=r.xI("ZodJWT",((e,t)=>{we.init(e,t),Nt.init(e,t)}));const Xt=r.xI("ZodNumber",((e,t)=>{Ee.init(e,t),Ct.init(e,t),e.gt=(t,n)=>e.check(pt(t,n)),e.gte=(t,n)=>e.check(ht(t,n)),e.min=(t,n)=>e.check(ht(t,n)),e.lt=(t,n)=>e.check(lt(t,n)),e.lte=(t,n)=>e.check(dt(t,n)),e.max=(t,n)=>e.check(dt(t,n)),e.int=t=>e.check(nn(t)),e.safe=t=>e.check(nn(t)),e.positive=t=>e.check(pt(0,t)),e.nonnegative=t=>e.check(ht(0,t)),e.negative=t=>e.check(lt(0,t)),e.nonpositive=t=>e.check(dt(0,t)),e.multipleOf=(t,n)=>e.check(ft(t,n)),e.step=(t,n)=>e.check(ft(t,n)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null}));function en(e){return function(e,t){return new e({type:"number",checks:[],...O.A2(t)})}(Xt,e)}const tn=r.xI("ZodNumberFormat",((e,t)=>{Se.init(e,t),Xt.init(e,t)}));function nn(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...O.A2(t)})}(tn,e)}const rn=r.xI("ZodBoolean",((e,t)=>{Te.init(e,t),Ct.init(e,t)}));function an(e){return function(e,t){return new e({type:"boolean",...O.A2(t)})}(rn,e)}const sn=r.xI("ZodNull",((e,t)=>{Ce.init(e,t),Ct.init(e,t)}));function on(e){return function(e,t){return new e({type:"null",...O.A2(t)})}(sn,e)}const un=r.xI("ZodUnknown",((e,t)=>{Ae.init(e,t),Ct.init(e,t)}));function cn(){return new un({type:"unknown"})}const ln=r.xI("ZodNever",((e,t)=>{je.init(e,t),Ct.init(e,t)}));function dn(e){return function(e,t){return new e({type:"never",...O.A2(t)})}(ln,e)}const pn=r.xI("ZodArray",((e,t)=>{Ne.init(e,t),Ct.init(e,t),e.element=t.element,e.min=(t,n)=>e.check(vt(t,n)),e.nonempty=t=>e.check(vt(1,t)),e.max=(t,n)=>e.check(mt(t,n)),e.length=(t,n)=>e.check(yt(t,n)),e.unwrap=()=>e.element}));function hn(e,t){return function(e,t,n){return new e({type:"array",element:t,...O.A2(n)})}(pn,e,t)}const fn=r.xI("ZodObject",((e,t)=>{Pe.init(e,t),Ct.init(e,t),O.gJ(e,"shape",(()=>t.shape)),e.keyof=()=>Sn(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:cn()}),e.loose=()=>e.clone({...e._zod.def,catchall:cn()}),e.strict=()=>e.clone({...e._zod.def,catchall:dn()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>O.X$(e,t),e.merge=t=>O.h1(e,t),e.pick=t=>O.Up(e,t),e.omit=t=>O.cJ(e,t),e.partial=(...t)=>O.OH(On,e,t[0]),e.required=(...t)=>O.mw(Mn,e,t[0])}));function mn(e,t){const n={type:"object",get shape(){return O.Vy(this,"shape",{...e}),this.shape},...O.A2(t)};return new fn(n)}function vn(e,t){return new fn({type:"object",get shape(){return O.Vy(this,"shape",{...e}),this.shape},catchall:dn(),...O.A2(t)})}function yn(e,t){return new fn({type:"object",get shape(){return O.Vy(this,"shape",{...e}),this.shape},catchall:cn(),...O.A2(t)})}const gn=r.xI("ZodUnion",((e,t)=>{Me.init(e,t),Ct.init(e,t),e.options=t.options}));function _n(e,t){return new gn({type:"union",options:e,...O.A2(t)})}const bn=r.xI("ZodDiscriminatedUnion",((e,t)=>{gn.init(e,t),Ze.init(e,t)}));function kn(e,t,n){return new bn({type:"union",options:t,discriminator:e,...O.A2(n)})}const xn=r.xI("ZodIntersection",((e,t)=>{Ye.init(e,t),Ct.init(e,t)}));const In=r.xI("ZodRecord",((e,t)=>{Fe.init(e,t),Ct.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType}));function wn(e,t,n){return new In({type:"record",keyType:e,valueType:t,...O.A2(n)})}const En=r.xI("ZodEnum",((e,t)=>{Ue.init(e,t),Ct.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const a={};for(const r of e){if(!n.has(r))throw new Error(`Key ${r} not found in enum`);a[r]=t.entries[r]}return new En({...t,checks:[],...O.A2(r),entries:a})},e.exclude=(e,r)=>{const a={...t.entries};for(const t of e){if(!n.has(t))throw new Error(`Key ${t} not found in enum`);delete a[t]}return new En({...t,checks:[],...O.A2(r),entries:a})}}));function Sn(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map((e=>[e,e]))):e;return new En({type:"enum",entries:n,...O.A2(t)})}const Tn=r.xI("ZodLiteral",((e,t)=>{Je.init(e,t),Ct.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})}));function Cn(e,t){return new Tn({type:"literal",values:Array.isArray(e)?e:[e],...O.A2(t)})}const An=r.xI("ZodTransform",((e,t)=>{Be.init(e,t),Ct.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=r=>{if("string"==typeof r)n.issues.push(O.sn(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=n.value),t.inst??(t.inst=e),t.continue??(t.continue=!0),n.issues.push(O.sn(t))}};const a=t.transform(n.value,n);return a instanceof Promise?a.then((e=>(n.value=e,n))):(n.value=a,n)}}));function jn(e){return new An({type:"transform",transform:e})}const On=r.xI("ZodOptional",((e,t)=>{Ve.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Nn(e){return new On({type:"optional",innerType:e})}const zn=r.xI("ZodNullable",((e,t)=>{We.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType}));function Rn(e){return new zn({type:"nullable",innerType:e})}const Pn=r.xI("ZodDefault",((e,t)=>{qe.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap}));const $n=r.xI("ZodPrefault",((e,t)=>{Ge.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Mn=r.xI("ZodNonOptional",((e,t)=>{He.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType}));const Zn=r.xI("ZodCatch",((e,t)=>{Xe.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap}));const Yn=r.xI("ZodPipe",((e,t)=>{et.init(e,t),Ct.init(e,t),e.in=t.in,e.out=t.out}));function Dn(e,t){return new Yn({type:"pipe",in:e,out:t})}const Ln=r.xI("ZodReadonly",((e,t)=>{nt.init(e,t),Ct.init(e,t)}));const Fn=r.xI("ZodLazy",((e,t)=>{at.init(e,t),Ct.init(e,t),e.unwrap=()=>e._zod.def.getter()}));function Un(e){return new Fn({type:"lazy",getter:e})}const Jn=r.xI("ZodCustom",((e,t)=>{st.init(e,t),Ct.init(e,t)}));function Bn(e,t){return function(e,t,n){const r=O.A2(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}(Jn,e??(()=>!0),t)}function Vn(e,t={error:`Input not instance of ${e.name}`}){const n=new Jn({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...O.A2(t)});return n._zod.bag.Class=e,n}},51117:(e,t,n)=>{"use strict";n.d(t,{$W:()=>i,GT:()=>a,cr:()=>s,xI:()=>r});Object.freeze({status:"aborted"});function r(e,t,n){function r(n,r){var a;Object.defineProperty(n,"_zod",{value:n._zod??{},enumerable:!1}),(a=n._zod).traits??(a.traits=new Set),n._zod.traits.add(e),t(n,r);for(const e in i.prototype)e in n||Object.defineProperty(n,e,{value:i.prototype[e].bind(n)});n._zod.constr=i,n._zod.def=r}const a=n?.Parent??Object;class s extends a{}function i(e){var t;const a=n?.Parent?new s:this;r(a,e),(t=a._zod).deferred??(t.deferred=[]);for(const e of a._zod.deferred)e();return a}return Object.defineProperty(s,"name",{value:e}),Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:t=>!!(n?.Parent&&t instanceof n.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}Symbol("zod_brand");class a extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const s={};function i(e){return e&&Object.assign(s,e),s}},27989:(e,t,n)=>{"use strict";n.d(t,{JM:()=>u,Kd:()=>o,Wk:()=>c,a$:()=>i});var r=n(51117),a=n(19606);const s=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get:()=>JSON.stringify(t,a.k8,2),enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},i=(0,r.xI)("$ZodError",s),o=(0,r.xI)("$ZodError",s,{Parent:Error});function u(e,t=(e=>e.message)){const n={},r=[];for(const a of e.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a));return{formErrors:r,fieldErrors:n}}function c(e,t){const n=t||function(e){return e.message},r={_errors:[]},a=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map((e=>a({issues:e})));else if("invalid_key"===t.code)a({issues:t.issues});else if("invalid_element"===t.code)a({issues:t.issues});else if(0===t.path.length)r._errors.push(n(t));else{let e=r,a=0;for(;a<t.path.length;){const r=t.path[a];a===t.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(n(t))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(e),r}},74935:(e,t,n)=>{"use strict";n.d(t,{Od:()=>u,Rb:()=>o,Tj:()=>i,bp:()=>d,wG:()=>l,xL:()=>c});var r=n(51117),a=n(27989),s=n(19606);const i=e=>(t,n,a,i)=>{const o=a?Object.assign(a,{async:!1}):{async:!1},u=t._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new r.GT;if(u.issues.length){const t=new(i?.Err??e)(u.issues.map((e=>s.iR(e,o,r.$W()))));throw s.gx(t,i?.callee),t}return u.value},o=(a.Kd,e=>async(t,n,a,i)=>{const o=a?Object.assign(a,{async:!0}):{async:!0};let u=t._zod.run({value:n,issues:[]},o);if(u instanceof Promise&&(u=await u),u.issues.length){const t=new(i?.Err??e)(u.issues.map((e=>s.iR(e,o,r.$W()))));throw s.gx(t,i?.callee),t}return u.value}),u=(a.Kd,e=>(t,n,i)=>{const o=i?{...i,async:!1}:{async:!1},u=t._zod.run({value:n,issues:[]},o);if(u instanceof Promise)throw new r.GT;return u.issues.length?{success:!1,error:new(e??a.a$)(u.issues.map((e=>s.iR(e,o,r.$W()))))}:{success:!0,data:u.value}}),c=u(a.Kd),l=e=>async(t,n,a)=>{const i=a?Object.assign(a,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map((e=>s.iR(e,i,r.$W()))))}:{success:!0,data:o.value}},d=l(a.Kd)},43861:(e,t,n)=>{"use strict";n.d(t,{fd:()=>s,rs:()=>r});Symbol("ZodOutput"),Symbol("ZodInput");class r{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}}function a(){return new r}const s=a()},19606:(e,t,n)=>{"use strict";function r(e){const t=Object.values(e).filter((e=>"number"==typeof e));return Object.entries(e).filter((([e,n])=>-1===t.indexOf(+e))).map((([e,t])=>t))}function a(e,t){return"bigint"==typeof t?t.toString():t}function s(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function i(e){return null==e}function o(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function u(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,a=n>r?n:r;return Number.parseInt(e.toFixed(a).replace(".",""))%Number.parseInt(t.toFixed(a).replace(".",""))/10**a}function c(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function l(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function d(e){return JSON.stringify(e)}n.d(t,{$f:()=>y,A2:()=>_,Gv:()=>h,LG:()=>u,NM:()=>b,OH:()=>S,PO:()=>s,QH:()=>C,Qd:()=>m,Rc:()=>N,UQ:()=>d,Up:()=>x,Vy:()=>l,X$:()=>w,cJ:()=>I,cl:()=>i,gJ:()=>c,gx:()=>p,h1:()=>E,hI:()=>f,iR:()=>O,k8:()=>a,lQ:()=>A,mw:()=>T,o8:()=>g,p6:()=>o,qQ:()=>v,sn:()=>z,w5:()=>r,zH:()=>k});const p=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function h(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const f=s((()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}}));function m(e){if(!1===h(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!1!==h(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}const v=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function g(e,t,n){const r=new e._zod.constr(t??e._zod.def);return t&&!n?.parent||(r._zod.parent=e),r}function _(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}function b(e){return Object.keys(e).filter((t=>"optional"===e[t]._zod.optin&&"optional"===e[t]._zod.optout))}const k={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function x(e,t){const n={},r=e._zod.def;for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&(n[e]=r.shape[e])}return g(e,{...e._zod.def,shape:n,checks:[]})}function I(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete n[e]}return g(e,{...e._zod.def,shape:n,checks:[]})}function w(e,t){if(!m(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return l(this,"shape",n),n},checks:[]};return g(e,n)}function E(e,t){return g(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return l(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function S(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const t in n){if(!(t in r))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(a[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)a[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return g(t,{...t._zod.def,shape:a,checks:[]})}function T(e,t,n){const r=t._zod.def.shape,a={...r};if(n)for(const t in n){if(!(t in a))throw new Error(`Unrecognized key: "${t}"`);n[t]&&(a[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)a[t]=new e({type:"nonoptional",innerType:r[t]});return g(t,{...t._zod.def,shape:a,checks:[]})}function C(e,t=0){for(let n=t;n<e.issues.length;n++)if(!0!==e.issues[n]?.continue)return!0;return!1}function A(e,t){return t.map((t=>{var n;return(n=t).path??(n.path=[]),t.path.unshift(e),t}))}function j(e){return"string"==typeof e?e:e?.message}function O(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const a=j(e.inst?._zod.def?.error?.(e))??j(t?.error?.(e))??j(n.customError?.(e))??j(n.localeError?.(e))??"Invalid input";r.message=a}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function N(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function z(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}},63891:(e,t,n)=>{"use strict";n.d(t,{Pp:()=>s});class r{diff(e,t,n={}){let r;"function"==typeof n?(r=n,n={}):"callback"in n&&(r=n.callback);const a=this.castInput(e,n),s=this.castInput(t,n),i=this.removeEmpty(this.tokenize(a,n)),o=this.removeEmpty(this.tokenize(s,n));return this.diffWithOptionsObj(i,o,n,r)}diffWithOptionsObj(e,t,n,r){var a;const s=e=>(e=this.postProcess(e,n),r?void setTimeout((function(){r(e)}),0):e),i=t.length,o=e.length;let u=1,c=i+o;null!=n.maxEditLength&&(c=Math.min(c,n.maxEditLength));const l=null!==(a=n.timeout)&&void 0!==a?a:1/0,d=Date.now()+l,p=[{oldPos:-1,lastComponent:void 0}];let h=this.extractCommon(p[0],t,e,0,n);if(p[0].oldPos+1>=o&&h+1>=i)return s(this.buildValues(p[0].lastComponent,t,e));let f=-1/0,m=1/0;const v=()=>{for(let r=Math.max(f,-u);r<=Math.min(m,u);r+=2){let a;const u=p[r-1],c=p[r+1];u&&(p[r-1]=void 0);let l=!1;if(c){const e=c.oldPos-r;l=c&&0<=e&&e<i}const d=u&&u.oldPos+1<o;if(l||d){if(a=!d||l&&u.oldPos<c.oldPos?this.addToPath(c,!0,!1,0,n):this.addToPath(u,!1,!0,1,n),h=this.extractCommon(a,t,e,r,n),a.oldPos+1>=o&&h+1>=i)return s(this.buildValues(a.lastComponent,t,e))||!0;p[r]=a,a.oldPos+1>=o&&(m=Math.min(m,r-1)),h+1>=i&&(f=Math.max(f,r+1))}else p[r]=void 0}u++};if(r)!function e(){setTimeout((function(){if(u>c||Date.now()>d)return r(void 0);v()||e()}),0)}();else for(;u<=c&&Date.now()<=d;){const e=v();if(e)return e}}addToPath(e,t,n,r,a){const s=e.lastComponent;return s&&!a.oneChangePerToken&&s.added===t&&s.removed===n?{oldPos:e.oldPos+r,lastComponent:{count:s.count+1,added:t,removed:n,previousComponent:s.previousComponent}}:{oldPos:e.oldPos+r,lastComponent:{count:1,added:t,removed:n,previousComponent:s}}}extractCommon(e,t,n,r,a){const s=t.length,i=n.length;let o=e.oldPos,u=o-r,c=0;for(;u+1<s&&o+1<i&&this.equals(n[o+1],t[u+1],a);)u++,o++,c++,a.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return c&&!a.oneChangePerToken&&(e.lastComponent={count:c,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=o,u}equals(e,t,n){return n.comparator?n.comparator(e,t):e===t||!!n.ignoreCase&&e.toLowerCase()===t.toLowerCase()}removeEmpty(e){const t=[];for(let n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}castInput(e,t){return e}tokenize(e,t){return Array.from(e)}join(e){return e.join("")}postProcess(e,t){return e}get useLongestToken(){return!1}buildValues(e,t,n){const r=[];let a;for(;e;)r.push(e),a=e.previousComponent,delete e.previousComponent,e=a;r.reverse();const s=r.length;let i=0,o=0,u=0;for(;i<s;i++){const e=r[i];if(e.removed)e.value=this.join(n.slice(u,u+e.count)),u+=e.count;else{if(!e.added&&this.useLongestToken){let r=t.slice(o,o+e.count);r=r.map((function(e,t){const r=n[u+t];return r.length>e.length?r:e})),e.value=this.join(r)}else e.value=this.join(t.slice(o,o+e.count));o+=e.count,e.added||(u+=e.count)}}return r}}const a=new class extends r{constructor(){super(...arguments),this.tokenize=i}equals(e,t,n){return n.ignoreWhitespace?(n.newlineIsToken&&e.includes("\n")||(e=e.trim()),n.newlineIsToken&&t.includes("\n")||(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith("\n")&&(e=e.slice(0,-1)),t.endsWith("\n")&&(t=t.slice(0,-1))),super.equals(e,t,n)}};function s(e,t,n){return a.diff(e,t,n)}function i(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,"\n"));const n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(let e=0;e<r.length;e++){const a=r[e];e%2&&!t.newlineIsToken?n[n.length-1]+=a:n.push(a)}return n}}}]);
//# sourceMappingURL=44915.ced5544cfd116c07bcd5.js.map