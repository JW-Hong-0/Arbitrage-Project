# GRVT-Lighter ν¬λ΅μ¤ ν—·μ§• μ „λµ λ³΄κ³ μ„

## Executive Summary

**μ „λµ κ°μ”**: GRVTμ—μ„ λ©”μ΄μ»¤ λ¦¬λ² μ΄νΈ(0.0004%)λ¥Ό νλ“ν•λ©° μ§€μ •κ°€ μ£Όλ¬Έμ„ μ²΄κ²°ν•κ³ , Lighterμ—μ„ μ¦‰μ‹ λ°λ€ ν¬μ§€μ…μΌλ΅ ν—·μ§•ν•μ—¬ λ°©ν–¥μ„± λ¦¬μ¤ν¬λ¥Ό μ κ±°ν•λ©΄μ„ ν¬μΈνΈ νλ°κ³Ό ν€λ”©λΉ„ μ°¨μµμ„ λ™μ‹μ— λ‹¬μ„±ν•λ” λΈνƒ€ μ¤‘λ¦½ μ „λµ.

**ν•µμ‹¬ μμµμ›**:
- GRVT ν¬μΈνΈ (κ±°λλ‰ 40% + LP 5% κ°€μ¤‘μΉ, TGE μ‹ ν† ν° μ „ν™)
- ν€λ”©λΉ„ μ¤ν”„λ λ“ μ°¨μµ (ν‰κ·  0.01-0.02%/8h)
- λ©”μ΄μ»¤ λ¦¬λ² μ΄νΈ 0.0004% (λ³΄μ΅°μ )
- Lighter μ—μ–΄λ“λ (2025λ…„ 12μ›” μ‹¤μ  μ§€κΈ‰ μ™„λ£)

**μμƒ μμµλ¥ **: $5K μλ³Έ κΈ°μ¤€ μ›” 3.5% ROI + 200-400 ν¬μΈνΈ (10λ°° λ λ²„λ¦¬μ§€, μ£Ό 20ν νμ „)

**μ£Όμ” λ¦¬μ¤ν¬**: ν€λ”©λΉ„ μ—­μ „, μ¬λ¦¬ν”Όμ§€, API μ¥μ• , λ¶€λ¶„ μ²΄κ²° λ¶κ· ν•

**μ‹¤ν–‰ λ‚μ΄λ„**: β­β­β­β­β† (λ΄‡ μλ™ν™” ν•„μ, 24μ‹κ°„ λ¨λ‹ν„°λ§ κ¶μ¥)

**ToS μ•μ „μ„±**: β­β­β­β­β­ (ν¬λ΅μ¤ ν”λ«νΌ ν—·μ§•μ€ μ •μƒ μ „λµ, λ…μ‹μ  κΈμ§€ μ—†μ)

---

## 1. μ „λµ λ©”μ»¤λ‹μ¦

### 1.1 κΈ°λ³Έ κµ¬μ΅°

**Step 1: GRVT λ©”μ΄μ»¤ μ£Όλ¬Έ λ°°μΉ**
```
BTC-USDT Perp μ§€μ •κ°€ μ£Όλ¬Έ
- κ°€κ²©: ν„μ¬κ°€ $95,000 Β± 0.01% (νƒ€μ΄νΈ μ¤ν”„λ λ“)
- μλ‰: 0.001 BTC ($95)
- ν¬μ§€μ…: λ΅±/μ (μ‹μ¥ μƒν™©μ— λ”°λΌ)
- λ©μ : λ©”μ΄μ»¤ λ¦¬λ² μ΄νΈ + ν¬μΈνΈ νλ“
```

**Step 2: μ²΄κ²° κ°μ§€ λ° Lighter μ¦‰μ‹ ν—·μ§•**
```
μ²΄κ²° ν™•μΈ (WebSocket fill μ¤νΈλ¦Ό) β†’ 350-400ms λ‚΄ ν—·μ§•
Lighter BTC-USD μ‹μ¥κ°€/μ ν•κ°€ μ£Όλ¬Έ
- λ°©ν–¥: GRVT λ°λ€ ν¬μ§€μ…
- μλ‰: λ™μΌ (0.001 BTC)
- μ¬λ¦¬ν”Όμ§€ μ ν•: μµλ€ 0.5%
```

**Step 3: λΈνƒ€ μ¤‘λ¦½ μ μ§€**
```
GRVT: +0.001 BTC λ΅± ($95)
Lighter: -0.001 BTC μ ($95.05, μ¬λ¦¬ν”Όμ§€ 0.05%)
μν¬μ§€μ…: 0 BTC (λ°©ν–¥μ„± λ¦¬μ¤ν¬ μ κ±°)
```

### 1.2 μμλ£ λ° λ¦¬λ² μ΄νΈ κµ¬μ΅°

| ν•­λ© | GRVT (Level 2) | Lighter (μ¤νƒ λ‹¤λ“) | μμµ |
|------|---------------|------------------|------|
| λ©”μ΄μ»¤ μμλ£ | **-0.0004%** (λ¦¬λ² μ΄νΈ) | 0% | +0.0004% |
| ν…μ΄μ»¤ μμλ£ | 0.042% | 0% | - |
| ν€λ”©λΉ„ (8hλ‹Ή) | +0.01% (λ΅± κΈ°μ¤€) | -0.01% (μ κΈ°μ¤€) | +0.02% |
| κ°€μ¤λΉ„/tx | $0.50-15 (μ…μ¶κΈ) | $0.10 (κ±°λ) | -$0.10 |

**μ¤‘μ”**: Lighterλ” **μ¤νƒ λ‹¤λ“ κ³„μ •(0% μμλ£)** μ‚¬μ© ν•„μ. ν”„λ¦¬λ―Έμ—„ κ³„μ •(0.02% ν…μ΄μ»¤)μ€ λ¦¬λ² μ΄νΈ μƒμ‡„.

### 1.3 ν¬μΈνΈ νλ“ κµ¬μ΅°

**GRVT Rewards Season 2.0**:

| μΉ΄ν…κ³ λ¦¬ | κ°€μ¤‘μΉ | νλ“ λ°©μ‹ | μ „λµ ν™μ©λ„ |
|---------|-------|----------|-----------|
| Trading Volume | 40% | μ²΄κ²°λ κ±°λλ‰ | β­β­β­β­β­ ν•µμ‹¬ |
| Open Interest | 15% | μ£Όκ°„ λλ¤ μ¤λƒ…μƒ· | β­β­β­β†β† λ³΄μ΅° |
| Liquidity Provision | 5% | νΈκ°€ μ κ³µ ν™λ™ | β­β­β­β­β† νƒ€μ΄νΈ μ¤ν”„λ λ“ |
| TVL/Strategy | 15% | GLP μμΉ | β­β­β†β†β† λ³„λ„ μλ³Έ |
| Liquidations | 5% | μ²­μ‚° μ°Έμ—¬ | β­β†β†β†β† λΉ„ν™μ© |
| Invites | 20% | μ¶”μ² ν”„λ΅κ·Έλ¨ | β­β­β†β†β† λ³‘ν–‰ κ°€λ¥ |

**Lighter λ³΄μƒ**:
- 2025λ…„ 12μ›” μ—μ–΄λ“λ μ‹¤μ  μ§€κΈ‰ μ™„λ£ (μ‹¤μ‚¬μ©μ @twooolkit μλ Ή)
- μ¶”κ°€ Season κ°€λ¥μ„± (κ³µμ‹ λ―Έλ°ν‘)

---

## 2. μμµμ„± λ¶„μ„

### 2.1 λ‹¨μ„ κ±°λ μμµ λ¶„ν•΄

**$100,000 λ©”μ΄μ»¤ κ±°λ 1ν κΈ°μ¤€**:

```
μμµ (+):
β”β”€ GRVT λ¦¬λ² μ΄νΈ: $100,000 Γ— 0.0004% = $0.40
β”β”€ ν€λ”©λΉ„ μ°¨μµ: $100,000 Γ— 0.02% = $20.00 (8μ‹κ°„ λ³΄μ  μ‹)
β””β”€ μ΄ μμµ: $20.40

λΉ„μ© (-):
β”β”€ Lighter κ°€μ¤λΉ„: $0.10
β”β”€ μ¬λ¦¬ν”Όμ§€: $100,000 Γ— 0.03% = $30.00 (ν‰κ· )
β””β”€ μ΄ λΉ„μ©: $30.10

μμ†μµ: -$9.70 (λ‹¨ν κ±°λ)
```

**κ²°λ΅ **: **λ‹¨ν κ±°λλ” μ μ**, μμµμ€ **ν¬μΈνΈ λ³΄μƒ**κ³Ό **κ³ λΉλ„ νμ „**μ—μ„ λ°μƒ.

### 2.2 μ›”κ°„ μμµ μ‹λ®¬λ μ΄μ…

#### μΌ€μ΄μ¤ A: λ³΄μμ  μ΄μ ($5K μλ³Έ, 10λ°° λ λ²„λ¦¬μ§€)

**μ„¤μ •**:
- ν¬μ§€μ… ν¬κΈ°: $50K (μ–‘μ½ κ° $25K)
- νμ „μ¨: μ£Ό 20ν (λ©”μ΄μ»¤ μ²΄κ²° μ‹λ§)
- μ›”κ°„ λ…λ© κ±°λλ‰: $50K Γ— 20 Γ— 4μ£Ό = **$4M**

**μμµ κµ¬μ΅°**:
```
λ¦¬λ² μ΄νΈ:      $4M Γ— 0.0004% = $16
ν€λ”©λΉ„ μ°¨μµ:   $4M Γ— 0.02% Γ— 90ν = $360 (ν•λ£¨ 3ν Γ— 30μΌ)
κ°€μ¤λΉ„:        -$80 (400 tx Γ— $0.10 Γ— 2)
μ¬λ¦¬ν”Όμ§€:      -$120 ($4M Γ— 0.03%)
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ ν„κΈ μμµ:  $176/μ›” (3.5% ROI)

ν¬μΈνΈ μμµ:
β”β”€ κ±°λλ‰ (40%): ~280 ν¬μΈνΈ
β”β”€ LP (5%):      ~35 ν¬μΈνΈ  
β””β”€ μ΄:           ~315 ν¬μΈνΈ/μ›”
```

#### μΌ€μ΄μ¤ B: κ³µκ²©μ  μ΄μ ($100K μλ³Έ, 20λ°° λ λ²„λ¦¬μ§€)

**μ„¤μ •**:
- ν¬μ§€μ… ν¬κΈ°: $2M (μ–‘μ½ κ° $1M)
- νμ „μ¨: μ£Ό 50ν
- μ›”κ°„ λ…λ© κ±°λλ‰: $2M Γ— 50 Γ— 4μ£Ό = **$400M**

**μμµ κµ¬μ΅°**:
```
λ¦¬λ² μ΄νΈ:      $400M Γ— 0.0004% = $1,600
ν€λ”©λΉ„ μ°¨μµ:   $400M Γ— 0.02% Γ— 90ν = $72,000
κ°€μ¤λΉ„:        -$4,000 (20,000 tx Γ— $0.10 Γ— 2)
μ¬λ¦¬ν”Όμ§€:      -$12,000 ($400M Γ— 0.03%)
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ ν„κΈ μμµ:  $57,600/μ›” (57.6% ROI)

ν¬μΈνΈ μμµ:   ~28,000-35,000 ν¬μΈνΈ/μ›” (μƒμ„ 0.1%)

λ¦¬μ¤ν¬:
- μ²­μ‚° ν™•λ¥  μ¦κ°€ (20λ°° λ λ²„λ¦¬μ§€)
- μ¬λ¦¬ν”Όμ§€ μν–¥ ν™•λ€
- API Rate Limit λ„λ‹¬
```

### 2.3 μ‹¤μ  μ‚¬λ΅€ κ²€μ¦

**@twooolkit λ΄‡ μ„±κ³Ό (2025λ…„ 4μ›”-2026λ…„ 1μ›”)**:

| κΈ°κ°„ | μλ³Έ | λ λ²„λ¦¬μ§€ | μ„±κ³Ό |
|------|------|---------|------|
| 48μ‹κ°„ | $2K | 10λ°° | +$40 (2% ROI) + ν¬μΈνΈ |
| 7μΌ | $5K | 10λ°° | +$300 (6% ROI) + 30 ν¬μΈνΈ |
| 1κ°μ›” | λ―Έκ³µκ° | 10-30λ°° | "κΈμ •μ  μμµ, μ†μ‹¤ μ—†μ" |
| 2025λ…„ λ§ | ν™•λ€ | 30-40λ°° | Lighter μ—μ–΄λ“λ μλ Ή |

**κ²€μ¦λ μ‚¬μ‹¤**:
- μ‹¤μ  μμµ λ‹¬μ„± (μ†μ‹¤ μ—†μ)
- ν¬μΈνΈ λ„μ  μ„±κ³µ
- Lighter μ—μ–΄λ“λ μ‹¤μ  μ§€κΈ‰
- μ¬λ¦¬ν”Όμ§€ κ΄€λ¦¬ κ°€λ¥ (λ¶€λ¶„ μ²­μ‚° κΈ°λ¥μΌλ΅ κ°μ„ )

---

## 3. λ¦¬μ¤ν¬ λ§¤νΈλ¦­μ¤ λ° λ€μ‘λ°©μ•

### 3.1 ν€λ”©λΉ„ μ—­μ „ λ¦¬μ¤ν¬ β οΈ λ†’μ

**λ°μƒ λ©”μ»¤λ‹μ¦**:
```
μ •μƒ μƒνƒ: GRVT λ΅± +0.01%, Lighter μ -0.01% β†’ μ°¨μµ +0.02%
μ—­μ „ μƒνƒ: GRVT λ΅± -0.02%, Lighter μ +0.01% β†’ μ†μ‹¤ -0.03%
λ„μ  μ†μ‹¤: 8μ‹κ°„ Γ— 3ν/μΌ Γ— 30μΌ = 90ν Γ— 0.03% = 2.7% μ›”μ†μ‹¤
```

**λ€μ‘λ°©μ•**:

| λ‹¨κ³„ | μ¤ν”„λ λ“ μ΅°κ±΄ | μ΅°μΉ | μμƒ μ†μ‹¤ μ ν• |
|------|-------------|------|--------------|
| πΆ μ •μƒ | > 0.015% | μ •μƒ μ΄μ | - |
| π΅ κ²½κ³  | < 0.01% | μ‹ κ· μ§„μ… μ¤‘λ‹¨, μ•λ¦Ό | 0% |
| π  μ„ν— | < 0.005% | ν¬μ§€μ… 50% μ²­μ‚° | 0.01% λ„μ  |
| π”΄ κΈ΄κΈ‰ | < 0% (μ—­μ „) | μ „μ²΄ μ¦‰μ‹ μ²­μ‚° | 0.02-0.05% |
| πΆ μ¬μ§„μ… | > 0.015% 2μ‹κ°„ μ μ§€ | μ μ§„μ  μ¬μ§„μ… | - |

**κµ¬ν„ μ½”λ“** (retriever_data κΈ°λ°):
```python
async def monitor_funding_spread():
    while True:
        grvt_rate = await fetch_grvt_funding("BTC_USDT_Perp")
        lighter_rate = await fetch_lighter_funding("BTC-USD")
        spread = grvt_rate - lighter_rate
        
        if spread < 0:  # μ—­μ „
            await emergency_close_all()
            send_alert("π¨ ν€λ”©λΉ„ μ—­μ „, μ „μ²΄ μ²­μ‚°")
        elif spread < 0.00005:  # 0.005%
            await close_position(ratio=0.5)
            send_alert("β οΈ 50% ν¬μ§€μ… μ²­μ‚°")
        elif spread < 0.0001:  # 0.01%
            stop_new_entries = True
            send_alert("β΅ κ²½κ³ : μ‹ κ· μ§„μ… μ¤‘λ‹¨")
        
        await asyncio.sleep(600)  # 10λ¶„λ§λ‹¤ μ²΄ν¬
```

### 3.2 μ¬λ¦¬ν”Όμ§€ λ¦¬μ¤ν¬ β οΈ μ¤‘κ°„

**λ°μƒ μ”μΈ**:
- GRVT μ²΄κ²° β†’ Lighter ν—·μ§• κ°„ 350-400ms λ μ΄ν„΄μ‹
- BTC/ETH ν‰κ·  μ¤ν”„λ λ“ 0.01-0.03%
- κΈ‰κ²©ν• λ³€λ™μ„± μ‹ 0.1-0.5% μ¬λ¦¬ν”Όμ§€ κ°€λ¥

**μ™„ν™” μ „λµ**:
```python
# μ¬λ¦¬ν”Όμ§€ μ ν• 0.5%λ΅ μ ν•κ°€ μ£Όλ¬Έ μ‚¬μ©
def hedge_with_limit(fill_price, is_long):
    max_slippage = 0.005
    if is_long:  # GRVT λ΅± β†’ Lighter μ
        limit_price = fill_price * (1 + max_slippage)
    else:
        limit_price = fill_price * (1 - max_slippage)
    
    return create_lighter_order(
        price=limit_price,
        post_only=False  # μ¦‰μ‹ μ²΄κ²° ν—μ©
    )
```

**BTC/ETHλ§ νƒ€κ²**: μ•νΈμ½”μΈμ€ μ¤ν”„λ λ“ 0.05-0.1%λ΅ λ¦¬λ² μ΄νΈ μƒμ‡„ κ°€λ¥μ„±.

### 3.3 API μ¥μ•  λ¦¬μ¤ν¬ β οΈ μ¤‘κ°„

**κ³Όκ±° μ‚¬λ΅€**:
- Lighter: 2025λ…„ 10μ›”, 12μ›” μΌμ‹ λ‹¤μ΄νƒ€μ„
- GRVT: μ•μ •μ  (2025λ…„ 7μ›” μ¶μ‹ μ΄ν›„ μ£Όμ” μ¥μ•  μ—†μ)

**Fallback μ²΄κ³„**:
```python
class DualProtocolMonitor:
    async def monitor_with_fallback(self):
        # Primary: WebSocket μ‹¤μ‹κ°„ κ°μ§€
        try:
            async for fill in grvt_ws_stream:
                await hedge_on_lighter(fill)
        except WebSocketDisconnect:
            # Fallback: REST ν΄λ§ (5μ΄ κ°„κ²©)
            logger.warning("WS down, switching to REST")
            while True:
                fills = await get_grvt_fills_rest()
                for fill in fills:
                    if not is_hedged(fill):
                        await hedge_on_lighter(fill)
                await asyncio.sleep(5)
```

**μλ™ κ°μ… μ²΄κ³„**:
- Telegram κΈ΄κΈ‰ μ•λ¦Ό (μ–‘λ°©ν–¥ API λ™μ‹ μ¥μ•  μ‹)
- μλ™ μ²­μ‚° λ§¤λ‰΄μ–Ό μ¤€λΉ„
- λ°±μ—… CEX κ³„μ • (Binance/Bybit) λ€κΈ°

### 3.4 λ¶€λ¶„ μ²΄κ²° λ¦¬μ¤ν¬ β οΈ λ‚®μ

**μ‹λ‚λ¦¬μ¤**:
```
GRVT: 0.001 BTC μ£Όλ¬Έ μ¤‘ 0.0007 BTCλ§ μ²΄κ²°
Lighter: 0.0007 BTC ν—·μ§• μ™„λ£
μ”μ—¬: 0.0003 BTC μ£Όλ¬Έ λ€κΈ° μ¤‘ β†’ μ¶”κ°€ μ²΄κ²° μ‹ ν—·μ§• ν•„μ”
```

**ν¬μ§€μ… μ¶”μ  μ‹μ¤ν…**:
```python
class PositionTracker:
    def __init__(self):
        self.grvt_net = 0
        self.lighter_net = 0
    
    def on_fill(self, exchange, qty, side):
        if exchange == "GRVT":
            self.grvt_net += qty if side == "long" else -qty
        else:
            self.lighter_net += qty if side == "long" else -qty
        
        delta = abs(self.grvt_net + self.lighter_net)
        if delta > 0.001:  # 0.001 BTC μ΄μƒ λ¶κ· ν•
            logger.warning(f"Rebalance needed: {delta} BTC")
            self.rebalance(delta)
```

### 3.5 ToS μ„λ° λ¦¬μ¤ν¬ β οΈ λ§¤μ° λ‚®μ

**ν•©λ²•μ„± κ·Όκ±°**:
- GRVT ToS: "μκ°€ λ§¤λ§¤(self-trading)" κΈμ§€ β†’ **λ™μΌ ν”λ«νΌ λ‚΄ μ–‘λ°©ν–¥λ§ ν•΄λ‹Ή**
- ν¬λ΅μ¤ ν”λ«νΌ ν—·μ§•: **μΌλ°μ μΈ λ¦¬μ¤ν¬ κ΄€λ¦¬ μ „λµ** (κΈμ§€ κ·μ • μ—†μ)
- μ‹¤μ  μ λ° μ‚¬λ΅€: **0κ±΄** (2026λ…„ 1μ›” 6μΌ κΈ°μ¤€ μ»¤λ®¤λ‹ν‹° μ „μ²΄ κ²€μƒ‰)

**μ£Όμμ‚¬ν•­**:
- GRVT λ‹¤κ³„μ • μ‚¬μ©μ€ κΈμ§€ (λ‹¨μΌ κ³„μ • κ¶μ¥)
- μ›μ‹ νΈλ μ΄λ”© ν¨ν„΄ νν”Ό (μ •μƒ ν—·μ§• μ‹κ°„ κ°„κ²© μ μ§€)

---

## 4. λ΄‡ κ°λ° κ°€μ΄λ“

### 4.1 ν•„μ κΈ°μ  μ¤νƒ

**API ν†µν•©**:
- GRVT: WebSocket (wss://trades.prod.gravitymarkets.io/ws/full) + EIP-712 μ„λ…
- Lighter: REST API + Python SDK (`lighter-python`)
- Rate Limit: GRVT 200 create/10s, Lighter 40 tx/s

**λ¨λ‹ν„°λ§**:
- Prometheus + Grafana (λ©”νΈλ¦­ λ€μ‹λ³΄λ“)
- Telegram Bot API (μ‹¤μ‹κ°„ μ•λ¦Ό)

**μΈν”„λΌ**:
- μ €μ§€μ—° VPS (AWS/GCP Singapore/Tokyo λ¦¬μ „ κ¶μ¥)
- Redis (ν¬μ§€μ… μƒνƒ μΊμ‹±)
- PostgreSQL (κ±°λ λ΅κ·Έ μ €μ¥)

### 4.2 ν•µμ‹¬ λ΅μ§ κµ¬ν„

**1λ‹¨κ³„: GRVT Fill κ°μ§€**
```python
async def subscribe_grvt_fills():
    ws = await connect_grvt_ws()
    await ws.send(json.dumps({
        "stream": "v1.fill.s",
        "feed": ["BTC_USDT_Perp"],
        "method": "subscribe",
        "is_full": True
    }))
    
    last_seq = -1
    async for msg in ws:
        data = json.loads(msg)
        
        # Sequence gap κ°μ§€ (retriever_data)
        if data["seq"] != last_seq + 1 and last_seq != -1:
            logger.error(f"Gap: {last_seq} -> {data['seq']}")
            await ws.close()
            ws = await connect_grvt_ws()  # μ¬μ—°κ²°
        
        last_seq = data["seq"]
        
        if data.get("trade_id"):
            await process_fill(data)
```

**2λ‹¨κ³„: Lighter μ¦‰μ‹ ν—·μ§•**
```python
async def hedge_on_lighter(fill_data):
    # μ¬λ¦¬ν”Όμ§€ 0.5% μ ν• (retriever_data)
    max_slippage = 0.005
    limit_price = fill_data["price"] * (1 + max_slippage)
    
    try:
        order = client.create_order(
            ticker_id=1,  # BTC-USD
            amount=fill_data["quantity"],
            price=limit_price,
            is_buy=not fill_data["is_long"],
            reduce_only=True,
            nonce=client.next_nonce()
        )
        
        logger.info(f"Hedged {fill_data['quantity']} @ {limit_price}")
        return order
        
    except RateLimitError:
        await asyncio.sleep(2)  # Exponential backoff
        return await hedge_on_lighter(fill_data)
        
    except Exception as e:
        send_alert(f"π¨ ν—·μ§• μ‹¤ν¨: {e}")
        # μλ™ κ°μ… ν•„μ”
        return None
```

**3λ‹¨κ³„: ν¬μ§€μ… λ¦¬λ°Έλ°μ‹±**
```python
async def rebalance_positions():
    grvt_pos = await get_grvt_position("BTC_USDT_Perp")
    lighter_pos = await get_lighter_position("BTC-USD")
    
    delta = abs(grvt_pos + lighter_pos)
    
    # 0.001 BTC μ΄μƒ λ¶κ· ν• μ‹ μ΅°μ • (retriever_data)
    if delta > 0.001:
        if grvt_pos + lighter_pos > 0:  # μλ΅± κ³Όλ‹¤
            await create_lighter_order(
                side="sell",
                quantity=delta,
                reduce_only=True
            )
        else:  # μμ κ³Όλ‹¤
            await create_lighter_order(
                side="buy",
                quantity=delta,
                reduce_only=True
            )
```

### 4.3 λ°±ν…μ¤ν… ν”„λ μ„μ›ν¬

**μ‹λ®¬λ μ΄μ… νλΌλ―Έν„°**:
```python
class BacktestConfig:
    start_date = "2025-10-01"
    end_date = "2026-01-06"
    
    # μμλ£
    grvt_maker = -0.000004  # -0.0004%
    lighter_taker = 0
    
    # μ¬λ¦¬ν”Όμ§€ (μ •κ·λ¶„ν¬)
    slippage_mean = 0.0003  # 0.03%
    slippage_std = 0.0002
    
    # λ μ΄ν„΄μ‹
    hedge_latency_ms = 350
    
    # ν€λ”©λΉ„
    funding_interval_hours = 8
    funding_spread = 0.0002  # 0.02%
```

**μ„±κ³Ό λ©”νΈλ¦­**:
```python
def calculate_metrics(trades):
    total_pnl = sum(t.pnl for t in trades)
    sharpe = total_pnl / std(t.pnl for t in trades) * sqrt(252)
    max_dd = max_drawdown(trades)
    win_rate = sum(1 for t in trades if t.pnl > 0) / len(trades)
    
    return {
        "total_pnl": total_pnl,
        "sharpe": sharpe,
        "max_drawdown": max_dd,
        "win_rate": win_rate,
        "avg_slippage": mean(t.slippage for t in trades)
    }
```

### 4.4 λ°°ν¬ μ „ μ²΄ν¬λ¦¬μ¤νΈ

**24-48μ‹κ°„ Dry-Run ν•„μ**:
- [ ] WebSocket μ—°κ²° μ•μ •μ„± (sequence gap μλ™ μ²λ¦¬)
- [ ] Rate limit μ¤€μ (GRVT 450-650s λ€κΈ°, Lighter 40 tx/s)
- [ ] ν€λ”©λΉ„ λ¨λ‹ν„°λ§ 10λ¶„ κ°„κ²© λ™μ‘
- [ ] μ¬λ¦¬ν”Όμ§€ 0.5% μ΄κ³Ό μ‹ μ£Όλ¬Έ κ±°λ¶€
- [ ] ν¬μ§€μ… delta 0.001 BTC μ΄κ³Ό μ‹ λ¦¬λ°Έλ°μ‹±
- [ ] Telegram μ•λ¦Ό μ „μ†΅ ν…μ¤νΈ
- [ ] μλ™ κΈ΄κΈ‰ μ •μ§€ λ™μ‘ ν™•μΈ

**μ†μ•΅ μ‹¤μ „ ν…μ¤νΈ** ($1K-5K, 1-2μ£Ό):
```python
config = {
    "capital": 2000,
    "max_leverage": 5,
    "min_funding_spread": 0.0002,  # 0.02% μ΄μƒλ§ μ§„μ…
    "max_position_btc": 0.005,
    "alert_threshold": 0.0001,
    "emergency_exit": 0
}
```

---

## 5. μ‹¤μ „ μ΄μ κ°€μ΄λ“

### 5.1 λ‹¨κ³„λ³„ μ¤μΌ€μΌμ—… μ „λµ

| λ‹¨κ³„ | κΈ°κ°„ | μλ³Έ | λ λ²„λ¦¬μ§€ | λ©ν‘ | μ„±κ³µ κΈ°μ¤€ |
|------|------|------|---------|------|----------|
| Phase 1 | 1-2μ£Ό | $1K-5K | 5λ°° | μ•μ •μ„± κ²€μ¦ | λ¬΄μ‚¬κ³  μ΄μ |
| Phase 2 | 3-4μ£Ό | $5K-10K | 10λ°° | ν¬μΈνΈ λ„μ  | Sharpe > 1.5 |
| Phase 3 | 2κ°μ›”+ | $10K-50K | 15-20λ°° | μμµ κ·Ήλ€ν™” | μ›” 5-10% ROI |

**Phase 1 β†’ Phase 2 μ „ν™ μ΅°κ±΄**:
- 14μΌ μ—°μ† λ¬΄μ²­μ‚°
- ν‰κ·  μ¬λ¦¬ν”Όμ§€ < 0.05%
- ν—·μ§• μ„±κ³µλ¥  > 98%
- ν€λ”©λΉ„ μ¤ν”„λ λ“ ν‰κ·  > 0.01%

### 5.2 μΌμΌ μ΄μ λ£¨ν‹΄

**μ¤μ „ (UTC 00:00-08:00)**:
- [ ] ν€λ”©λΉ„ μ¤ν”„λ λ“ ν™•μΈ (GRVT 00:00/08:00/16:00 μ •μ‚°)
- [ ] μ–‘λ°©ν–¥ ν¬μ§€μ… λΈνƒ€ μ²΄ν¬ (0.001 BTC μ΄ν• μ μ§€)
- [ ] API μ—λ¬ λ΅κ·Έ κ²€ν† 
- [ ] μ „μΌ ν¬μΈνΈ λ„μ  ν™•μΈ

**μ¤ν›„ (UTC 08:00-16:00)**:
- [ ] μ¬λ¦¬ν”Όμ§€ ν†µκ³„ μ—…λ°μ΄νΈ (ν‰κ·  0.03% μ μ§€ λ©ν‘)
- [ ] GRVT Level μ§„ν–‰λ¥  ν™•μΈ (μ›” $100K κ±°λλ‰ λ©ν‘)
- [ ] Lighter μ”κ³  λ° μ¦κ±°κΈ ν™•μΈ

**μ €λ… (UTC 16:00-24:00)**:
- [ ] ν€λ”©λΉ„ μ •μ‚° (16:00) ν›„ μ†μµ κΈ°λ΅
- [ ] μ£Όκ°„ κ±°λλ‰ λ„μ  μ¶”μ 
- [ ] μ‹μ¤ν… λ΅κ·Έ λ°±μ—…

### 5.3 λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“

**μ‹¤μ‹κ°„ KPI**:
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  GRVT-Lighter ν—·μ§• λ΄‡ ν„ν™©           β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ 24h κ±°λλ‰:      $125,000           β”‚
β”‚ ν—·μ§• μ„±κ³µλ¥ :     98.5%               β”‚
β”‚ ν‰κ·  μ¬λ¦¬ν”Όμ§€:   0.028%              β”‚
β”‚ ν€λ”©λΉ„ μ¤ν”„λ λ“: +0.015%             β”‚
β”‚                                      β”‚
β”‚ μ‹¤ν„ μ†μµ:       +$45.30             β”‚
β”‚ λ―Έμ‹¤ν„ μ†μµ:     -$2.10              β”‚
β”‚ GRVT ν¬μΈνΈ:     +28p (24h)          β”‚
β”‚                                      β”‚
β”‚ ν¬μ§€μ… λΈνƒ€:     0.0002 BTC          β”‚
β”‚ API μ—λ¬ (1h):   0                   β”‚
β”‚ λ§μ§€λ§‰ ν—·μ§•:     32μ΄ μ „             β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

**μ•λ¦Ό κ·μΉ™**:
- π”΄ κΈ΄κΈ‰: ν€λ”©λΉ„ μ—­μ „, API μ¥μ• , ν¬μ§€μ… λΈνƒ€ > 0.01 BTC
- π  κ²½κ³ : μ¬λ¦¬ν”Όμ§€ > 0.5%, ν—·μ§• μ‹¤ν¨, μ¤ν”„λ λ“ < 0.01%
- π΅ μ£Όμ: 24h κ±°λλ‰ < λ©ν‘ 80%, API μ—λ¬ > 5ν/h

### 5.4 GLP λ³‘ν–‰ μ „λµ (μ„ νƒ)

**μλ³Έ λ°°λ¶„ μμ‹** ($20K μ΄ μλ³Έ):
```
ν—·μ§• λ΄‡:    $10K (μ¦κ±°κΈ GRVT $5K + Lighter $5K)
GLP μμΉ:   $10K (TVL ν¬μΈνΈ 15% + APR 25-31%)

μμƒ ν¬μΈνΈ (μ›”κ°„):
β”β”€ ν—·μ§• λ΄‡: κ±°λλ‰ 40% β†’ ~400p
β”β”€ GLP:     TVL 15% β†’ ~225p
β”β”€ LP νΈκ°€: 5% β†’ ~56p
β””β”€ μ΄:      ~681p/μ›”

ν„κΈ μμµ:
β”β”€ ν—·μ§• λ΄‡: ~$176/μ›” (1.76% ROI on $10K)
β”β”€ GLP:     ~$208-258/μ›” (2.08-2.58% ROI on $10K)
β””β”€ μ΄:      ~$384-434/μ›” (1.92-2.17% ROI on $20K)
```

---

## 6. μ‹λ‚λ¦¬μ¤ λ¶„μ„

### 6.1 μµμ„  μ‹λ‚λ¦¬μ¤ πΆ

**μ΅°κ±΄**:
- ν€λ”©λΉ„ μ¤ν”„λ λ“ μ§€μ† 0.02-0.03%
- GRVT/Lighter API λ¬΄μ¥μ• 
- BTC λ³€λ™μ„± μ¤‘κ°„ (μΌ 1-3% λ“±λ½)
- ν¬μΈνΈ TGE κ°€μΉ $0.10/ν¬μΈνΈ

**$10K μλ³Έ, 10λ°° λ λ²„λ¦¬μ§€, 3κ°μ›” μ΄μ**:
```
ν„κΈ μμµ:  $176/μ›” Γ— 3 = $528 (5.28% μ΄ ROI)
ν¬μΈνΈ:     315p/μ›” Γ— 3 = 945p
TGE κ°€μΉ:   945p Γ— $0.10 = $94.50
μ΄ μμµ:    $528 + $94.50 = $622.50 (6.23% μ΄ ROI)
```

### 6.2 κΈ°λ³Έ μ‹λ‚λ¦¬μ¤ π΅

**μ΅°κ±΄**:
- ν€λ”©λΉ„ μ¤ν”„λ λ“ ν‰κ·  0.01-0.015%
- μ›” 1-2ν API λ‹¤μ΄νƒ€μ„ (λ³µκµ¬ 1-2μ‹κ°„)
- BTC λ³€λ™μ„± λ‚®μ-μ¤‘κ°„
- ν¬μΈνΈ TGE κ°€μΉ $0.05/ν¬μΈνΈ

**$10K μλ³Έ, 10λ°° λ λ²„λ¦¬μ§€, 3κ°μ›” μ΄μ**:
```
ν„κΈ μμµ:  $88/μ›” Γ— 3 = $264 (2.64% μ΄ ROI)
ν¬μΈνΈ:     250p/μ›” Γ— 3 = 750p
TGE κ°€μΉ:   750p Γ— $0.05 = $37.50
μ΄ μμµ:    $264 + $37.50 = $301.50 (3.02% μ΄ ROI)
```

### 6.3 μµμ•… μ‹λ‚λ¦¬μ¤ π”΄

**μ΅°κ±΄**:
- ν€λ”©λΉ„ μ—­μ „ 3ν λ°μƒ (κ° 24μ‹κ°„ μ§€μ†)
- Lighter λ‹¤μ΄νƒ€μ„ λ„μ  48μ‹κ°„
- BTC κΈ‰λ“±λ½ 5-10%/μΌ (μ¬λ¦¬ν”Όμ§€ 0.3-0.5%)
- ν¬μΈνΈ TGE λ¬΄μ‚°

**$10K μλ³Έ, 10λ°° λ λ²„λ¦¬μ§€, 3κ°μ›” μ΄μ**:
```
ν€λ”©λΉ„ μ—­μ „ μ†μ‹¤:  $100K Γ— 0.03% Γ— 72ν = -$216
μ¬λ¦¬ν”Όμ§€ μ¦κ°€:      $4M Γ— 0.2% = -$800
κ°€μ¤λΉ„:             -$240
β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€
μ΄ μ†μ‹¤:            -$1,256 (-12.56% μ΄ μ†μ‹¤)

ν¬μΈνΈ:             500p (κ°€μΉ 0)
```

**λ€μ‘**: ν€λ”©λΉ„ μ—­μ „ μ¦‰μ‹ μ²­μ‚°μΌλ΅ μ†μ‹¤ -$50-100 μ ν• κ°€λ¥.

---

## 7. κ²°λ΅  λ° κ¶μ¥μ‚¬ν•­

### 7.1 μ „λµ ν‰κ°€ μΆ…ν•©

| ν‰κ°€ ν•­λ© | μ μ | μ„¤λ… |
|----------|------|------|
| **μμµμ„±** | β­β­β­β†β† | ν„κΈ 3-5%, ν¬μΈνΈ κ°€μΉμ— μμ΅΄ |
| **μ‹¤ν–‰ κ°€λ¥μ„±** | β­β­β­β­β† | μ‹¤μ  μ„±κ³µ μ‚¬λ΅€ λ‹¤μ, λ΄‡ ν•„μ |
| **λ¦¬μ¤ν¬** | β­β­β­β†β† | ν€λ”©λΉ„ μ—­μ „ κ΄€λ¦¬ ν•„μ |
| **μλ³Έ ν¨μ¨** | β­β­β†β†β† | μ–‘μ½ μ¦κ±°κΈμΌλ΅ λ‚®μ |
| **ToS μ•μ „μ„±** | β­β­β­β­β­ | ν¬λ΅μ¤ ν”λ«νΌμΌλ΅ ν•©λ²• |
| **ν™•μ¥μ„±** | β­β­β­β­β† | $5K-50K λ²”μ„μ—μ„ μ„ ν• ν™•μ¥ |
| **ν¬μΈνΈ νλ°** | β­β­β­β­β­ | κ±°λλ‰ 40% + LP 5% ν¨μ¨μ  νλ“ |

### 7.2 μ‹¤ν–‰ κ¶μ¥ μ΅°κ±΄

**β… κ¶μ¥ λ€μƒ**:
- Python/JavaScript λ΄‡ κ°λ° κ²½ν—μ
- 24μ‹κ°„ λ¨λ‹ν„°λ§ κ°€λ¥ ν™κ²½ (VPS + μ•λ¦Ό)
- μµμ† $5K-10K μ—¬μ  μλ³Έ
- GRVT TGE μ „κΉμ§€ (2026λ…„ Q1 λ©ν‘) μ§‘μ¤‘ μ΄μ μμ§€
- λ¦¬μ¤ν¬ κ΄€λ¦¬ μ²΄κ³„μ  μ ‘κ·Ό κ°€λ¥μ

**β λΉ„κ¶μ¥ λ€μƒ**:
- μλ™ κ±°λ μ„ νΈμ (λ μ΄ν„΄μ‹λ΅ μ μ κ°€λ¥)
- μ†μ•΅ μλ³Έ (<$1K, κ°€μ¤λΉ„κ°€ μμµ μƒμ‡„)
- κ³ μμµ λ‹¨κΈ° νΈλ μ΄λ”© λ©μ  (μ›” 3-5% μμ¤€)
- λ΄‡ κ°λ° λ¶κ°€ λ° κΈ°μ΅΄ λ΄‡ μ‹ λΆ° λ» ν•λ” κ²½μ°

### 7.3 μµμ  μ΄μ μ „λµ

**Entry Point**:
1. **Phase 1 (1-2μ£Ό)**: $2K-5K, 5λ°° λ λ²„λ¦¬μ§€λ΅ Dry-Run
2. **Phase 2 (3-4μ£Ό)**: $5K-10K, 10λ°° λ λ²„λ¦¬μ§€λ΅ μ•μ •ν™”
3. **Phase 3 (2κ°μ›”+)**: $10K-30K, 15λ°° λ λ²„λ¦¬μ§€λ΅ ν™•λ€

**Exit Point**:
- GRVT TGE μ™„λ£ ν›„ ν¬μΈνΈ κ°€μΉ μ‹¤ν„ μ‹ (2026λ…„ Q1-Q2 μμƒ)
- ν€λ”©λΉ„ μ¤ν”„λ λ“ μ§€μ† < 0.005% (1μ£Ό μ΄μƒ)
- κ°μΈ λ©ν‘ ROI λ‹¬μ„± μ‹

**λ¦¬μ¤ν¬ κ΄€λ¦¬**:
- ν€λ”©λΉ„ μ—­μ „ μ‹ μ¦‰μ‹ μ „μ²΄ μ²­μ‚°
- μ¬λ¦¬ν”Όμ§€ 0.5% μ ν• (μ ν•κ°€ μ£Όλ¬Έ)
- API μ¥μ•  μ‹ μλ™ κ°μ… μ¤€λΉ„
- μΌμΌ ν¬μ§€μ… λΈνƒ€ μ²΄ν¬ λ° λ¦¬λ°Έλ°μ‹±

### 7.4 λ€μ• μ „λµ λΉ„κµ

| μ „λµ | μ›” ROI | λ¦¬μ¤ν¬ | μλ³Έ ν¨μ¨ | κ¶μ¥λ„ |
|------|--------|--------|----------|--------|
| **GRVT-Lighter ν—·μ§•** | 3-5% + ν¬μΈνΈ | μ¤‘κ°„ | β­β­β†β†β† | β­β­β­β­β† |
| **GLP λ‹¨λ… μμΉ** | 2-2.5% + ν¬μΈνΈ | λ‚®μ | β­β­β­β­β† | β­β­β­β­β­ |
| **GRVT λ‹¤κ³„μ • ν—·μ§•** | 5-10% | λ†’μ (ToS) | β­β­β­β†β† | β­β­β†β†β† |
| **μ •μƒ νΈλ μ΄λ”©** | -5%~+20% | λ§¤μ° λ†’μ | β­β­β­β­β­ | β­β­β­β†β† |

**μΆ…ν•© κ¶μ¥**: GLP $10K μμΉ + ν—·μ§• λ΄‡ $10K λ³‘ν–‰ (μ΄ $20K)
- μ›” ν„κΈ μμµ $384-434 (1.92-2.17% ROI)
- μ›” ν¬μΈνΈ 681p (κ±°λλ‰ 40% + TVL 15% + LP 5% μ»¤λ²„)
- λ¦¬μ¤ν¬ λ¶„μ‚° λ° μλ³Έ ν¨μ¨ μµμ ν™”

---

## 8. Action Items

### μ¦‰μ‹ μ‹¤ν–‰ κ°€λ¥ ν•­λ©

**1μ£Όμ°¨**:
- [ ] GRVT κ³„μ • κ°μ„¤ λ° Level 2 λ‹¬μ„± μ¤€λΉ„ ($100K κ±°λλ‰)
- [ ] Lighter μ¤νƒ λ‹¤λ“ κ³„μ • κ°μ„¤
- [ ] @twooolkit GitHub λ ν¬μ§€ν† λ¦¬ κ²€ν† 
- [ ] VPS μ„λ²„ μ„Έν… (Singapore/Tokyo λ¦¬μ „)

**2μ£Όμ°¨**:
- [ ] λ΄‡ κΈ°λ³Έ ν”„λ μ„μ›ν¬ κµ¬μ¶• (WebSocket + REST)
- [ ] ν€λ”©λΉ„ λ¨λ‹ν„°λ§ λ¨λ“ κ°λ°
- [ ] Telegram μ•λ¦Ό μ—°λ™
- [ ] 24μ‹κ°„ Dry-Run μ‹μ‘

**3-4μ£Όμ°¨**:
- [ ] μ†μ•΅ μ‹¤μ „ ν…μ¤νΈ ($1K-2K, 5λ°° λ λ²„λ¦¬μ§€)
- [ ] μ¬λ¦¬ν”Όμ§€ λ° ν—·μ§• μ„±κ³µλ¥  λ°μ΄ν„° μμ§‘
- [ ] νλΌλ―Έν„° μµμ ν™” (μ¤ν”„λ λ“ μ„κ³„κ°’, λ λ²„λ¦¬μ§€)

**2κ°μ›”μ°¨**:
- [ ] μλ³Έ ν™•λ€ ($5K-10K, 10λ°° λ λ²„λ¦¬μ§€)
- [ ] GLP μμΉ λ³‘ν–‰ μ‹μ‘
- [ ] μ£Όκ°„ μ„±κ³Ό λ¦¬ν¬νΈ μλ™ν™”

### μ¥κΈ° λ©ν‘ (3-6κ°μ›”)

- GRVT TGE μ‹ ν¬μΈνΈ β†’ ν† ν° μ „ν™ λ° λ§¤λ„ μ „λµ μλ¦½
- Lighter μ¶”κ°€ μ—μ–΄λ“λ λ€λΉ„ μ§€μ† μ΄μ
- λ„μ  λ°μ΄ν„° κΈ°λ° λ°±ν…μ¤νΈ κ°μ„ 
- λ‹¤λ¥Έ DEX Perp (dYdX, Hyperliquid) ν™•μ¥ κ²€ν† 

---

**μµμΆ… μκ²¬**: GRVT-Lighter ν¬λ΅μ¤ ν—·μ§• μ „λµμ€ **μ‹¤μ  κ²€μ¦λ μ¤‘μ„ν—-μ¤‘μμµ ν¬μΈνΈ νλ° μ „λµ**μΌλ΅, λ΄‡ μλ™ν™”μ™€ μ²΄κ³„μ  λ¦¬μ¤ν¬ κ΄€λ¦¬ ν•μ— **μ›” 3-5% ν„κΈ μμµ + μ μλ―Έν• ν¬μΈνΈ λ„μ **μ΄ κ°€λ¥ν•©λ‹λ‹¤. λ‹¨, **ν¬μΈνΈ TGE κ°€μΉ**κ°€ μµμΆ… μμµμ„ μΆμ°ν•λ―€λ΅, GRVT ν† ν° μ¶μ‹ μ‹μ (2026λ…„ Q1-Q2)κΉμ§€ μ§‘μ¤‘ μ΄μ ν›„ μ¬ν‰κ°€λ¥Ό κ¶μ¥ν•©λ‹λ‹¤. μμ λ¦¬λ² μ΄νΈλ§μΌλ΅λ” λΉ„ν¨μ¨μ μ΄λ‚, **ν€λ”©λΉ„ μ°¨μµ + μ–‘λ°©ν–¥ ν¬μΈνΈ νλ°** μ΅°ν•© μ‹ μ „λµμ  κ°€μΉκ°€ μμµλ‹λ‹¤.